/*! For license information please see abx-web-sdk.min.js.LICENSE.txt */
!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var r=t();for(var i in r)("object"==typeof exports?exports:e)[i]=r[i]}}(self,(()=>(()=>{var e,t,r={228:e=>{e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,i=new Array(t);r<t;r++)i[r]=e[r];return i}},646:(e,t,r)=>{var i=r(228);e.exports=function(e){if(Array.isArray(e))return i(e)}},926:e=>{function t(e,t,r,i,n,a,o){try{var s=e[a](o),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(i,n)}e.exports=function(e){return function(){var r=this,i=arguments;return new Promise((function(n,a){var o=e.apply(r,i);function s(e){t(o,n,a,s,u,"next",e)}function u(e){t(o,n,a,s,u,"throw",e)}s(void 0)}))}}},575:e=>{e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},913:e=>{function t(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}e.exports=function(e,r,i){return r&&t(e.prototype,r),i&&t(e,i),e}},713:e=>{e.exports=function(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}},860:e=>{e.exports=function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}},206:e=>{e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},319:(e,t,r)=>{var i=r(646),n=r(860),a=r(379),o=r(206);e.exports=function(e){return i(e)||n(e)||a(e)||o()}},8:e=>{function t(r){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?e.exports=t=function(e){return typeof e}:e.exports=t=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t(r)}e.exports=t},379:(e,t,r)=>{var i=r(228);e.exports=function(e,t){if(e){if("string"==typeof e)return i(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?i(e,t):void 0}}},757:(e,t,r)=>{e.exports=r(666)},58:(e,t,r)=>{"use strict";r.d(t,{Fh:()=>c,Gu:()=>p,IB:()=>l,M4:()=>n,Tl:()=>s,_D:()=>h,dx:()=>u,hN:()=>d,kG:()=>o,lt:()=>i,n2:()=>f,ww:()=>a});var i,n,a,o,s,u,l,c,d,p,h,f=function(e,t){return e.hasOwnProperty(t)};!function(e){e.UTM_SOURCE="utm_source",e.UTM_MEDIUM="utm_medium",e.UTM_CAMPAIGN="utm_campaign",e.UTM_TERM="utm_term",e.UTM_CONTENT="utm_content"}(i||(i={})),function(e){e.N_CAMPAIGN_TYPE="n_campaign_type",e.N_AD_GROUP="n_ad_group",e.N_MEDIA="n_media",e.N_AD="n_ad",e.N_KEYWORD="n_keyword",e.N_KEYWORD_ID="n_keyword_id",e.N_QUERY="n_query",e.N_RANK="n_rank",e.N_MALL_PID="n_mall_pid",e.N_CONTRACT="n_contract"}(n||(n={})),function(e){e.Kakao="Kakao",e.Naver="Naver",e.Line="Line",e.Google="Google",e.Facebook="Facebook",e.Twitter="Twitter",e.whatsApp="whatsApp",e.QQ="QQ",e.WeChat="WeChat",e.UserId="UserId",e.ETC="ETC",e.SkTid="SkTid",e.AppleId="AppleId"}(a||(a={})),function(e){e.Facebook="Facebook",e.KakaoTalk="KakaoTalk",e.KakaoStory="KakaoStory",e.Line="Line",e.whatsApp="whatsApp",e.QQ="QQ",e.WeChat="WeChat",e.SMS="SMS",e.Email="Email",e.copyUrl="copyUrl",e.ETC="ETC"}(o||(o={})),function(e){e.KRW="KRW",e.USD="USD",e.JPY="JPY",e.EUR="EUR",e.GBP="GBP",e.CNY="CNY",e.TWD="TWD",e.HKD="HKD",e.IDR="IDR",e.INR="INR",e.RUB="RUB",e.THB="THB",e.VND="VND",e.MYR="MYR"}(s||(s={})),function(e){e.CreditCard="CreditCard",e.BankTransfer="BankTransfer",e.MobilePayment="MobilePayment",e.ETC="ETC"}(u||(u={})),function(e){e[e.BEACON=0]="BEACON",e[e.XHR=1]="XHR",e[e.IMAGE=2]="IMAGE"}(l||(l={})),function(e){e.ap1="ap1",e.ap2="ap2"}(c||(c={})),function(e){e.string="string",e.long="long",e.double="double",e.boolean="boolean",e.array="array",e.dictionary="dictionary"}(d||(d={})),function(e){e[e.DISABLE=0]="DISABLE",e[e.ERROR=1]="ERROR",e[e.WARN=2]="WARN",e[e.INFO=3]="INFO"}(p||(p={})),function(e){e.abx="abx",e.custom="custom"}(h||(h={}))},679:(e,t,r)=>{"use strict";function i(e){function t(e,t){var r=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(r>>16)<<16|65535&r}function r(e,t){return e>>>t|e<<32-t}function i(e,t){return e>>>t}function n(e,t,r){return e&t^~e&r}function a(e,t,r){return e&t^e&r^t&r}function o(e){return r(e,2)^r(e,13)^r(e,22)}function s(e){return r(e,6)^r(e,11)^r(e,25)}function u(e){return r(e,7)^r(e,18)^i(e,3)}return function(e){for(var t="0123456789abcdef",r="",i=0;i<4*e.length;i++)r+=t.charAt(e[i>>2]>>8*(3-i%4)+4&15)+t.charAt(e[i>>2]>>8*(3-i%4)&15);return r}(function(e,l){var c,d,p,h,f,b,v,_,y,x,g,m=new Array(1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298),w=new Array(1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225),k=new Array(64);e[l>>5]|=128<<24-l%32,e[15+(l+64>>9<<4)]=l;for(var O=0;O<e.length;O+=16){c=w[0],d=w[1],p=w[2],h=w[3],f=w[4],b=w[5],v=w[6],_=w[7];for(var P=0;P<64;P++)k[P]=P<16?e[P+O]:t(t(t(r(g=k[P-2],17)^r(g,19)^i(g,10),k[P-7]),u(k[P-15])),k[P-16]),y=t(t(t(t(_,s(f)),n(f,b,v)),m[P]),k[P]),x=t(o(c),a(c,d,p)),_=v,v=b,b=f,f=t(h,y),h=p,p=d,d=c,c=t(y,x);w[0]=t(c,w[0]),w[1]=t(d,w[1]),w[2]=t(p,w[2]),w[3]=t(h,w[3]),w[4]=t(f,w[4]),w[5]=t(b,w[5]),w[6]=t(v,w[6]),w[7]=t(_,w[7])}return w}(function(e){for(var t=Array(),r=0;r<8*e.length;r+=8)t[r>>5]|=(255&e.charCodeAt(r/8))<<24-r%32;return t}(e=function(e){e=e.replace(/\r\n/g,"\n");for(var t="",r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t+=String.fromCharCode(i):i>127&&i<2048?(t+=String.fromCharCode(i>>6|192),t+=String.fromCharCode(63&i|128)):(t+=String.fromCharCode(i>>12|224),t+=String.fromCharCode(i>>6&63|128),t+=String.fromCharCode(63&i|128))}return t}(e)),8*e.length))}r.d(t,{m:()=>i})},666:e=>{var t=function(e){"use strict";var t,r=Object.prototype,i=r.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",s=n.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function l(e,t,r,i){var n=t&&t.prototype instanceof v?t:v,a=Object.create(n.prototype),o=new I(i||[]);return a._invoke=function(e,t,r){var i=d;return function(n,a){if(i===h)throw new Error("Generator is already running");if(i===f){if("throw"===n)throw a;return C()}for(r.method=n,r.arg=a;;){var o=r.delegate;if(o){var s=P(o,r);if(s){if(s===b)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===d)throw i=f,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=h;var u=c(e,t,r);if("normal"===u.type){if(i=r.done?f:p,u.arg===b)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(i=f,r.method="throw",r.arg=u.arg)}}}(e,r,o),a}function c(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var d="suspendedStart",p="suspendedYield",h="executing",f="completed",b={};function v(){}function _(){}function y(){}var x={};x[a]=function(){return this};var g=Object.getPrototypeOf,m=g&&g(g(N([])));m&&m!==r&&i.call(m,a)&&(x=m);var w=y.prototype=v.prototype=Object.create(x);function k(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function O(e,t){function r(n,a,o,s){var u=c(e[n],e,a);if("throw"!==u.type){var l=u.arg,d=l.value;return d&&"object"==typeof d&&i.call(d,"__await")?t.resolve(d.__await).then((function(e){r("next",e,o,s)}),(function(e){r("throw",e,o,s)})):t.resolve(d).then((function(e){l.value=e,o(l)}),(function(e){return r("throw",e,o,s)}))}s(u.arg)}var n;this._invoke=function(e,i){function a(){return new t((function(t,n){r(e,i,t,n)}))}return n=n?n.then(a,a):a()}}function P(e,r){var i=e.iterator[r.method];if(i===t){if(r.delegate=null,"throw"===r.method){if(e.iterator.return&&(r.method="return",r.arg=t,P(e,r),"throw"===r.method))return b;r.method="throw",r.arg=new TypeError("The iterator does not provide a 'throw' method")}return b}var n=c(i,e.iterator,r.arg);if("throw"===n.type)return r.method="throw",r.arg=n.arg,r.delegate=null,b;var a=n.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,b):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,b)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function U(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function N(e){if(e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function r(){for(;++n<e.length;)if(i.call(e,n))return r.value=e[n],r.done=!1,r;return r.value=t,r.done=!0,r};return o.next=o}}return{next:C}}function C(){return{value:t,done:!0}}return _.prototype=w.constructor=y,y.constructor=_,_.displayName=u(y,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===_||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,u(e,s,"GeneratorFunction")),e.prototype=Object.create(w),e},e.awrap=function(e){return{__await:e}},k(O.prototype),O.prototype[o]=function(){return this},e.AsyncIterator=O,e.async=function(t,r,i,n,a){void 0===a&&(a=Promise);var o=new O(l(t,r,i,n),a);return e.isGeneratorFunction(r)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},k(w),u(w,s,"Generator"),w[a]=function(){return this},w.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var i=t.pop();if(i in e)return r.value=i,r.done=!1,r}return r.done=!0,r}},e.values=N,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(U),!e)for(var r in this)"t"===r.charAt(0)&&i.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function n(i,n){return s.type="throw",s.arg=e,r.next=i,n&&(r.method="next",r.arg=t),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],s=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var u=i.call(o,"catchLoc"),l=i.call(o,"finallyLoc");if(u&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(u){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&i.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var a=n;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,b):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),b},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),U(r),b}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var i=r.completion;if("throw"===i.type){var n=i.arg;U(r)}return n}}throw new Error("illegal catch attempt")},delegateYield:function(e,r,i){return this.delegate={iterator:N(e),resultName:r,nextLoc:i},"next"===this.method&&(this.arg=t),b}},e}(e.exports);try{regeneratorRuntime=t}catch(e){Function("r","regeneratorRuntime = r")(t)}},238:function(e,t,r){var i;!function(n,a){"use strict";var o="function",s="object",u="model",l="name",c="type",d="vendor",p="version",h="architecture",f="console",b="mobile",v="tablet",_="smarttv",y="wearable",x={extend:function(e,t){var r={};for(var i in e)t[i]&&t[i].length%2==0?r[i]=t[i].concat(e[i]):r[i]=e[i];return r},has:function(e,t){return"string"==typeof e&&-1!==t.toLowerCase().indexOf(e.toLowerCase())},lowerize:function(e){return e.toLowerCase()},major:function(e){return"string"==typeof e?e.replace(/[^\d\.]/g,"").split(".")[0]:a},trim:function(e){return e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}},g={rgx:function(e,t){for(var r,i,n,u,l,c,d=0;d<t.length&&!l;){var p=t[d],h=t[d+1];for(r=i=0;r<p.length&&!l;)if(l=p[r++].exec(e))for(n=0;n<h.length;n++)c=l[++i],typeof(u=h[n])===s&&u.length>0?2==u.length?typeof u[1]==o?this[u[0]]=u[1].call(this,c):this[u[0]]=u[1]:3==u.length?typeof u[1]!==o||u[1].exec&&u[1].test?this[u[0]]=c?c.replace(u[1],u[2]):a:this[u[0]]=c?u[1].call(this,c,u[2]):a:4==u.length&&(this[u[0]]=c?u[3].call(this,c.replace(u[1],u[2])):a):this[u]=c||a;d+=2}},str:function(e,t){for(var r in t)if(typeof t[r]===s&&t[r].length>0){for(var i=0;i<t[r].length;i++)if(x.has(t[r][i],e))return"?"===r?a:r}else if(x.has(t[r],e))return"?"===r?a:r;return e}},m={browser:{oldsafari:{version:{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}}},device:{amazon:{model:{"Fire Phone":["SD","KF"]}},sprint:{model:{"Evo Shift 4G":"7373KT"},vendor:{HTC:"APA",Sprint:"Sprint"}}},os:{windows:{version:{ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"}}}},w={browser:[[/(opera\smini)\/([\w\.-]+)/i,/(opera\s[mobiletab]+).+version\/([\w\.-]+)/i,/(opera).+version\/([\w\.]+)/i,/(opera)[\/\s]+([\w\.]+)/i],[l,p],[/(opios)[\/\s]+([\w\.]+)/i],[[l,"Opera Mini"],p],[/\s(opr)\/([\w\.]+)/i],[[l,"Opera"],p],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/\s]?([\w\.]*)/i,/(avant\s|iemobile|slim)(?:browser)?[\/\s]?([\w\.]*)/i,/(bidubrowser|baidubrowser)[\/\s]?([\w\.]+)/i,/(?:ms|\()(ie)\s([\w\.]+)/i,/(rekonq)\/([\w\.]*)/i,/(chromium|flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon)\/([\w\.-]+)/i],[l,p],[/(konqueror)\/([\w\.]+)/i],[[l,"Konqueror"],p],[/(trident).+rv[:\s]([\w\.]+).+like\sgecko/i],[[l,"IE"],p],[/(edge|edgios|edga|edg)\/((\d+)?[\w\.]+)/i],[[l,"Edge"],p],[/(yabrowser)\/([\w\.]+)/i],[[l,"Yandex"],p],[/(Avast)\/([\w\.]+)/i],[[l,"Avast Secure Browser"],p],[/(AVG)\/([\w\.]+)/i],[[l,"AVG Secure Browser"],p],[/(puffin)\/([\w\.]+)/i],[[l,"Puffin"],p],[/(focus)\/([\w\.]+)/i],[[l,"Firefox Focus"],p],[/(opt)\/([\w\.]+)/i],[[l,"Opera Touch"],p],[/((?:[\s\/])uc?\s?browser|(?:juc.+)ucweb)[\/\s]?([\w\.]+)/i],[[l,"UCBrowser"],p],[/(comodo_dragon)\/([\w\.]+)/i],[[l,/_/g," "],p],[/(windowswechat qbcore)\/([\w\.]+)/i],[[l,"WeChat(Win) Desktop"],p],[/(micromessenger)\/([\w\.]+)/i],[[l,"WeChat"],p],[/(brave)\/([\w\.]+)/i],[[l,"Brave"],p],[/(qqbrowserlite)\/([\w\.]+)/i],[l,p],[/(QQ)\/([\d\.]+)/i],[l,p],[/m?(qqbrowser)[\/\s]?([\w\.]+)/i],[l,p],[/(baiduboxapp)[\/\s]?([\w\.]+)/i],[l,p],[/(2345Explorer)[\/\s]?([\w\.]+)/i],[l,p],[/(MetaSr)[\/\s]?([\w\.]+)/i],[l],[/(LBBROWSER)/i],[l],[/xiaomi\/miuibrowser\/([\w\.]+)/i],[p,[l,"MIUI Browser"]],[/;fbav\/([\w\.]+);/i],[p,[l,"Facebook"]],[/safari\s(line)\/([\w\.]+)/i,/android.+(line)\/([\w\.]+)\/iab/i],[l,p],[/headlesschrome(?:\/([\w\.]+)|\s)/i],[p,[l,"Chrome Headless"]],[/\swv\).+(chrome)\/([\w\.]+)/i],[[l,/(.+)/,"$1 WebView"],p],[/((?:oculus|samsung)browser)\/([\w\.]+)/i],[[l,/(.+(?:g|us))(.+)/,"$1 $2"],p],[/android.+version\/([\w\.]+)\s+(?:mobile\s?safari|safari)*/i],[p,[l,"Android Browser"]],[/(sailfishbrowser)\/([\w\.]+)/i],[[l,"Sailfish Browser"],p],[/(chrome|omniweb|arora|[tizenoka]{5}\s?browser)\/v?([\w\.]+)/i],[l,p],[/(dolfin)\/([\w\.]+)/i],[[l,"Dolphin"],p],[/(qihu|qhbrowser|qihoobrowser|360browser)/i],[[l,"360 Browser"]],[/((?:android.+)crmo|crios)\/([\w\.]+)/i],[[l,"Chrome"],p],[/(coast)\/([\w\.]+)/i],[[l,"Opera Coast"],p],[/fxios\/([\w\.-]+)/i],[p,[l,"Firefox"]],[/version\/([\w\.]+).+?mobile\/\w+\s(safari)/i],[p,[l,"Mobile Safari"]],[/version\/([\w\.]+).+?(mobile\s?safari|safari)/i],[p,l],[/webkit.+?(gsa)\/([\w\.]+).+?(mobile\s?safari|safari)(\/[\w\.]+)/i],[[l,"GSA"],p],[/webkit.+?(mobile\s?safari|safari)(\/[\w\.]+)/i],[l,[p,g.str,m.browser.oldsafari.version]],[/(webkit|khtml)\/([\w\.]+)/i],[l,p],[/(navigator|netscape)\/([\w\.-]+)/i],[[l,"Netscape"],p],[/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo\sbrowser|minimo|conkeror)[\/\s]?([\w\.\+]+)/i,/(firefox|seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([\w\.-]+)$/i,/(mozilla)\/([\w\.]+).+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir)[\/\s]?([\w\.]+)/i,/(links)\s\(([\w\.]+)/i,/(gobrowser)\/?([\w\.]*)/i,/(ice\s?browser)\/v?([\w\._]+)/i,/(mosaic)[\/\s]([\w\.]+)/i],[l,p]],cpu:[[/(?:(amd|x(?:(?:86|64)[_-])?|wow|win)64)[;\)]/i],[[h,"amd64"]],[/(ia32(?=;))/i],[[h,x.lowerize]],[/((?:i[346]|x)86)[;\)]/i],[[h,"ia32"]],[/windows\s(ce|mobile);\sppc;/i],[[h,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?:\smac|;|\))/i],[[h,/ower/,"",x.lowerize]],[/(sun4\w)[;\)]/i],[[h,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|arm(?:64|(?=v\d+[;l]))|(?=atmel\s)avr|(?:irix|mips|sparc)(?:64)?(?=;)|pa-risc)/i],[[h,x.lowerize]]],device:[[/\((ipad|playbook);[\w\s\),;-]+(rim|apple)/i],[u,d,[c,v]],[/applecoremedia\/[\w\.]+ \((ipad)/],[u,[d,"Apple"],[c,v]],[/(apple\s{0,1}tv)/i],[[u,"Apple TV"],[d,"Apple"],[c,_]],[/(archos)\s(gamepad2?)/i,/(hp).+(touchpad)/i,/(hp).+(tablet)/i,/(kindle)\/([\w\.]+)/i,/\s(nook)[\w\s]+build\/(\w+)/i,/(dell)\s(strea[kpr\s\d]*[\dko])/i],[d,u,[c,v]],[/(kf[A-z]+)\sbuild\/.+silk\//i],[u,[d,"Amazon"],[c,v]],[/(sd|kf)[0349hijorstuw]+\sbuild\/.+silk\//i],[[u,g.str,m.device.amazon.model],[d,"Amazon"],[c,b]],[/android.+aft([bms])\sbuild/i],[u,[d,"Amazon"],[c,_]],[/\((ip[honed|\s\w*]+);.+(apple)/i],[u,d,[c,b]],[/\((ip[honed|\s\w*]+);/i],[u,[d,"Apple"],[c,b]],[/(blackberry)[\s-]?(\w+)/i,/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[\s_-]?([\w-]*)/i,/(hp)\s([\w\s]+\w)/i,/(asus)-?(\w+)/i],[d,u,[c,b]],[/\(bb10;\s(\w+)/i],[u,[d,"BlackBerry"],[c,b]],[/android.+(transfo[prime\s]{4,10}\s\w+|eeepc|slider\s\w+|nexus 7|padfone|p00c)/i],[u,[d,"Asus"],[c,v]],[/(sony)\s(tablet\s[ps])\sbuild\//i,/(sony)?(?:sgp.+)\sbuild\//i],[[d,"Sony"],[u,"Xperia Tablet"],[c,v]],[/android.+\s([c-g]\d{4}|so[-l]\w+)(?=\sbuild\/|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[u,[d,"Sony"],[c,b]],[/\s(ouya)\s/i,/(nintendo)\s([wids3u]+)/i],[d,u,[c,f]],[/android.+;\s(shield)\sbuild/i],[u,[d,"Nvidia"],[c,f]],[/(playstation\s[34portablevi]+)/i],[u,[d,"Sony"],[c,f]],[/(sprint\s(\w+))/i],[[d,g.str,m.device.sprint.vendor],[u,g.str,m.device.sprint.model],[c,b]],[/(htc)[;_\s-]+([\w\s]+(?=\)|\sbuild)|\w+)/i,/(zte)-(\w*)/i,/(alcatel|geeksphone|nexian|panasonic|(?=;\s)sony)[_\s-]?([\w-]*)/i],[d,[u,/_/g," "],[c,b]],[/(nexus\s9)/i],[u,[d,"HTC"],[c,v]],[/d\/huawei([\w\s-]+)[;\)]/i,/(nexus\s6p|vog-l29|ane-lx1|eml-l29)/i],[u,[d,"Huawei"],[c,b]],[/android.+(bah2?-a?[lw]\d{2})/i],[u,[d,"Huawei"],[c,v]],[/(microsoft);\s(lumia[\s\w]+)/i],[d,u,[c,b]],[/[\s\(;](xbox(?:\sone)?)[\s\);]/i],[u,[d,"Microsoft"],[c,f]],[/(kin\.[onetw]{3})/i],[[u,/\./g," "],[d,"Microsoft"],[c,b]],[/\s(milestone|droid(?:[2-4x]|\s(?:bionic|x2|pro|razr))?:?(\s4g)?)[\w\s]+build\//i,/mot[\s-]?(\w*)/i,/(XT\d{3,4}) build\//i,/(nexus\s6)/i],[u,[d,"Motorola"],[c,b]],[/android.+\s(mz60\d|xoom[\s2]{0,2})\sbuild\//i],[u,[d,"Motorola"],[c,v]],[/hbbtv\/\d+\.\d+\.\d+\s+\([\w\s]*;\s*(\w[^;]*);([^;]*)/i],[[d,x.trim],[u,x.trim],[c,_]],[/hbbtv.+maple;(\d+)/i],[[u,/^/,"SmartTV"],[d,"Samsung"],[c,_]],[/\(dtv[\);].+(aquos)/i],[u,[d,"Sharp"],[c,_]],[/android.+((sch-i[89]0\d|shw-m380s|gt-p\d{4}|gt-n\d+|sgh-t8[56]9|nexus 10))/i,/((SM-T\w+))/i],[[d,"Samsung"],u,[c,v]],[/smart-tv.+(samsung)/i],[d,[c,_],u],[/((s[cgp]h-\w+|gt-\w+|galaxy\snexus|sm-\w[\w\d]+))/i,/(sam[sung]*)[\s-]*(\w+-?[\w-]*)/i,/sec-((sgh\w+))/i],[[d,"Samsung"],u,[c,b]],[/sie-(\w*)/i],[u,[d,"Siemens"],[c,b]],[/(maemo|nokia).*(n900|lumia\s\d+)/i,/(nokia)[\s_-]?([\w-]*)/i],[[d,"Nokia"],u,[c,b]],[/android[x\d\.\s;]+\s([ab][1-7]\-?[0178a]\d\d?)/i],[u,[d,"Acer"],[c,v]],[/android.+([vl]k\-?\d{3})\s+build/i],[u,[d,"LG"],[c,v]],[/android\s3\.[\s\w;-]{10}(lg?)-([06cv9]{3,4})/i],[[d,"LG"],u,[c,v]],[/(lg) netcast\.tv/i],[d,u,[c,_]],[/(nexus\s[45])/i,/lg[e;\s\/-]+(\w*)/i,/android.+lg(\-?[\d\w]+)\s+build/i],[u,[d,"LG"],[c,b]],[/(lenovo)\s?(s(?:5000|6000)(?:[\w-]+)|tab(?:[\s\w]+))/i],[d,u,[c,v]],[/android.+(ideatab[a-z0-9\-\s]+)/i],[u,[d,"Lenovo"],[c,v]],[/(lenovo)[_\s-]?([\w-]+)/i],[d,u,[c,b]],[/linux;.+((jolla));/i],[d,u,[c,b]],[/((pebble))app\/[\d\.]+\s/i],[d,u,[c,y]],[/android.+;\s(oppo)\s?([\w\s]+)\sbuild/i],[d,u,[c,b]],[/crkey/i],[[u,"Chromecast"],[d,"Google"],[c,_]],[/android.+;\s(glass)\s\d/i],[u,[d,"Google"],[c,y]],[/android.+;\s(pixel c)[\s)]/i],[u,[d,"Google"],[c,v]],[/android.+;\s(pixel( [23])?( xl)?)[\s)]/i],[u,[d,"Google"],[c,b]],[/android.+;\s(\w+)\s+build\/hm\1/i,/android.+(hm[\s\-_]*note?[\s_]*(?:\d\w)?)\s+build/i,/android.+(mi[\s\-_]*(?:a\d|one|one[\s_]plus|note lte)?[\s_]*(?:\d?\w?)[\s_]*(?:plus)?)\s+build/i,/android.+(redmi[\s\-_]*(?:note)?(?:[\s_]*[\w\s]+))\s+build/i],[[u,/_/g," "],[d,"Xiaomi"],[c,b]],[/android.+(mi[\s\-_]*(?:pad)(?:[\s_]*[\w\s]+))\s+build/i],[[u,/_/g," "],[d,"Xiaomi"],[c,v]],[/android.+;\s(m[1-5]\snote)\sbuild/i],[u,[d,"Meizu"],[c,b]],[/(mz)-([\w-]{2,})/i],[[d,"Meizu"],u,[c,b]],[/android.+a000(1)\s+build/i,/android.+oneplus\s(a\d{4})[\s)]/i],[u,[d,"OnePlus"],[c,b]],[/android.+[;\/]\s*(RCT[\d\w]+)\s+build/i],[u,[d,"RCA"],[c,v]],[/android.+[;\/\s]+(Venue[\d\s]{2,7})\s+build/i],[u,[d,"Dell"],[c,v]],[/android.+[;\/]\s*(Q[T|M][\d\w]+)\s+build/i],[u,[d,"Verizon"],[c,v]],[/android.+[;\/]\s+(Barnes[&\s]+Noble\s+|BN[RT])(V?.*)\s+build/i],[[d,"Barnes & Noble"],u,[c,v]],[/android.+[;\/]\s+(TM\d{3}.*\b)\s+build/i],[u,[d,"NuVision"],[c,v]],[/android.+;\s(k88)\sbuild/i],[u,[d,"ZTE"],[c,v]],[/android.+[;\/]\s*(gen\d{3})\s+build.*49h/i],[u,[d,"Swiss"],[c,b]],[/android.+[;\/]\s*(zur\d{3})\s+build/i],[u,[d,"Swiss"],[c,v]],[/android.+[;\/]\s*((Zeki)?TB.*\b)\s+build/i],[u,[d,"Zeki"],[c,v]],[/(android).+[;\/]\s+([YR]\d{2})\s+build/i,/android.+[;\/]\s+(Dragon[\-\s]+Touch\s+|DT)(\w{5})\sbuild/i],[[d,"Dragon Touch"],u,[c,v]],[/android.+[;\/]\s*(NS-?\w{0,9})\sbuild/i],[u,[d,"Insignia"],[c,v]],[/android.+[;\/]\s*((NX|Next)-?\w{0,9})\s+build/i],[u,[d,"NextBook"],[c,v]],[/android.+[;\/]\s*(Xtreme\_)?(V(1[045]|2[015]|30|40|60|7[05]|90))\s+build/i],[[d,"Voice"],u,[c,b]],[/android.+[;\/]\s*(LVTEL\-)?(V1[12])\s+build/i],[[d,"LvTel"],u,[c,b]],[/android.+;\s(PH-1)\s/i],[u,[d,"Essential"],[c,b]],[/android.+[;\/]\s*(V(100MD|700NA|7011|917G).*\b)\s+build/i],[u,[d,"Envizen"],[c,v]],[/android.+[;\/]\s*(Le[\s\-]+Pan)[\s\-]+(\w{1,9})\s+build/i],[d,u,[c,v]],[/android.+[;\/]\s*(Trio[\s\-]*.*)\s+build/i],[u,[d,"MachSpeed"],[c,v]],[/android.+[;\/]\s*(Trinity)[\-\s]*(T\d{3})\s+build/i],[d,u,[c,v]],[/android.+[;\/]\s*TU_(1491)\s+build/i],[u,[d,"Rotor"],[c,v]],[/android.+(KS(.+))\s+build/i],[u,[d,"Amazon"],[c,v]],[/android.+(Gigaset)[\s\-]+(Q\w{1,9})\s+build/i],[d,u,[c,v]],[/\s(tablet|tab)[;\/]/i,/\s(mobile)(?:[;\/]|\ssafari)/i],[[c,x.lowerize],d,u],[/[\s\/\(](smart-?tv)[;\)]/i],[[c,_]],[/(android[\w\.\s\-]{0,9});.+build/i],[u,[d,"Generic"]]],engine:[[/windows.+\sedge\/([\w\.]+)/i],[p,[l,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[p,[l,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/(khtml|tasman|links)[\/\s]\(?([\w\.]+)/i,/(icab)[\/\s]([23]\.[\d\.]+)/i],[l,p],[/rv\:([\w\.]{1,9}).+(gecko)/i],[p,l]],os:[[/microsoft\s(windows)\s(vista|xp)/i],[l,p],[/(windows)\snt\s6\.2;\s(arm)/i,/(windows\sphone(?:\sos)*)[\s\/]?([\d\.\s\w]*)/i,/(windows\smobile|windows)[\s\/]?([ntce\d\.\s]+\w)/i],[l,[p,g.str,m.os.windows.version]],[/(win(?=3|9|n)|win\s9x\s)([nt\d\.]+)/i],[[l,"Windows"],[p,g.str,m.os.windows.version]],[/\((bb)(10);/i],[[l,"BlackBerry"],p],[/(blackberry)\w*\/?([\w\.]*)/i,/(tizen|kaios)[\/\s]([\w\.]+)/i,/(android|webos|palm\sos|qnx|bada|rim\stablet\sos|meego|sailfish|contiki)[\/\s-]?([\w\.]*)/i],[l,p],[/(symbian\s?os|symbos|s60(?=;))[\/\s-]?([\w\.]*)/i],[[l,"Symbian"],p],[/\((series40);/i],[l],[/mozilla.+\(mobile;.+gecko.+firefox/i],[[l,"Firefox OS"],p],[/(nintendo|playstation)\s([wids34portablevu]+)/i,/(mint)[\/\s\(]?(\w*)/i,/(mageia|vectorlinux)[;\s]/i,/(joli|[kxln]?ubuntu|debian|suse|opensuse|gentoo|(?=\s)arch|slackware|fedora|mandriva|centos|pclinuxos|redhat|zenwalk|linpus)[\/\s-]?(?!chrom)([\w\.-]*)/i,/(hurd|linux)\s?([\w\.]*)/i,/(gnu)\s?([\w\.]*)/i],[l,p],[/(cros)\s[\w]+\s([\w\.]+\w)/i],[[l,"Chromium OS"],p],[/(sunos)\s?([\w\.\d]*)/i],[[l,"Solaris"],p],[/\s([frentopc-]{0,4}bsd|dragonfly)\s?([\w\.]*)/i],[l,p],[/(haiku)\s(\w+)/i],[l,p],[/cfnetwork\/.+darwin/i,/ip[honead]{2,4}(?:.*os\s([\w]+)\slike\smac|;\sopera)/i],[[p,/_/g,"."],[l,"iOS"]],[/(mac\sos\sx)\s?([\w\s\.]*)/i,/(macintosh|mac(?=_powerpc)\s)/i],[[l,"Mac OS"],[p,/_/g,"."]],[/((?:open)?solaris)[\/\s-]?([\w\.]*)/i,/(aix)\s((\d)(?=\.|\)|\s)[\w\.])*/i,/(plan\s9|minix|beos|os\/2|amigaos|morphos|risc\sos|openvms|fuchsia)/i,/(unix)\s?([\w\.]*)/i],[l,p]]},k=function(e,t){if("object"==typeof e&&(t=e,e=a),!(this instanceof k))return new k(e,t).getResult();var r=e||(n&&n.navigator&&n.navigator.userAgent?n.navigator.userAgent:""),i=t?x.extend(w,t):w;return this.getBrowser=function(){var e={name:a,version:a};return g.rgx.call(e,r,i.browser),e.major=x.major(e.version),e},this.getCPU=function(){var e={architecture:a};return g.rgx.call(e,r,i.cpu),e},this.getDevice=function(){var e={vendor:a,model:a,type:a};return g.rgx.call(e,r,i.device),e},this.getEngine=function(){var e={name:a,version:a};return g.rgx.call(e,r,i.engine),e},this.getOS=function(){var e={name:a,version:a};return g.rgx.call(e,r,i.os),e},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return r},this.setUA=function(e){return r=e,this},this};k.VERSION="0.7.21",k.BROWSER={NAME:l,MAJOR:"major",VERSION:p},k.CPU={ARCHITECTURE:h},k.DEVICE={MODEL:u,VENDOR:d,TYPE:c,CONSOLE:f,MOBILE:b,SMARTTV:_,TABLET:v,WEARABLE:y,EMBEDDED:"embedded"},k.ENGINE={NAME:l,VERSION:p},k.OS={NAME:l,VERSION:p},void 0!==t?(e.exports&&(t=e.exports=k),t.UAParser=k):(i=function(){return k}.call(t,r,t,e))===a||(e.exports=i);var O=n&&(n.jQuery||n.Zepto);if(O&&!O.ua){var P=new k;O.ua=P.getResult(),O.ua.get=function(){return P.getUA()},O.ua.set=function(e){P.setUA(e);var t=P.getResult();for(var r in t)O.ua[r]=t[r]}}}("object"==typeof window?window:this)}},i={};function n(e){var t=i[e];if(void 0!==t)return t.exports;var a=i[e]={exports:{}};return r[e].call(a.exports,a,a.exports,n),a.exports}n.m=r,n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce(((t,r)=>(n.f[r](e,t),t)),[])),n.u=e=>"abx-push.min.js",n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),e={},t="adbrix-remaster-web-sdk:",n.l=(r,i,a,o)=>{if(e[r])e[r].push(i);else{var s,u;if(void 0!==a)for(var l=document.getElementsByTagName("script"),c=0;c<l.length;c++){var d=l[c];if(d.getAttribute("src")==r||d.getAttribute("data-webpack")==t+a){s=d;break}}s||(u=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,n.nc&&s.setAttribute("nonce",n.nc),s.setAttribute("data-webpack",t+a),s.src=r),e[r]=[i];var p=(t,i)=>{s.onerror=s.onload=null,clearTimeout(h);var n=e[r];if(delete e[r],s.parentNode&&s.parentNode.removeChild(s),n&&n.forEach((e=>e(i))),t)return t(i)},h=setTimeout(p.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=p.bind(null,s.onerror),s.onload=p.bind(null,s.onload),u&&document.head.appendChild(s)}},n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e;n.g.importScripts&&(e=n.g.location+"");var t=n.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var r=t.getElementsByTagName("script");r.length&&(e=r[r.length-1].src)}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),n.p=e})(),(()=>{var e={574:0};n.f.j=(t,r)=>{var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var a=new Promise(((r,n)=>i=e[t]=[r,n]));r.push(i[2]=a);var o=n.p+n.u(t),s=new Error;n.l(o,(r=>{if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var a=r&&("load"===r.type?"missing":r.type),o=r&&r.target&&r.target.src;s.message="Loading chunk "+t+" failed.\n("+a+": "+o+")",s.name="ChunkLoadError",s.type=a,s.request=o,i[1](s)}}),"chunk-"+t,t)}};var t=(t,r)=>{var i,a,[o,s,u]=r,l=0;if(o.some((t=>0!==e[t]))){for(i in s)n.o(s,i)&&(n.m[i]=s[i]);u&&u(n)}for(t&&t(r);l<o.length;l++)a=o[l],n.o(e,a)&&e[a]&&e[a][0](),e[a]=0},r=self.webpackChunkadbrix_remaster_web_sdk=self.webpackChunkadbrix_remaster_web_sdk||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})();var a={};return(()=>{"use strict";n.r(a),n.d(a,{adbrix:()=>ae});var e=n(757),t=n.n(e),r=n(926),i=n.n(r),o=n(575),s=n.n(o),u=n(913),l=n.n(u),c=n(713),d=n.n(c);function p(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)e[i]=r[i]}return e}const h=function e(t,r){function i(e,i,n){if("undefined"!=typeof document){"number"==typeof(n=p({},r,n)).expires&&(n.expires=new Date(Date.now()+864e5*n.expires)),n.expires&&(n.expires=n.expires.toUTCString()),e=encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var a="";for(var o in n)n[o]&&(a+="; "+o,!0!==n[o]&&(a+="="+n[o].split(";")[0]));return document.cookie=e+"="+t.write(i,e)+a}}return Object.create({set:i,get:function(e){if("undefined"!=typeof document&&(!arguments.length||e)){for(var r=document.cookie?document.cookie.split("; "):[],i={},n=0;n<r.length;n++){var a=r[n].split("="),o=a.slice(1).join("=");try{var s=decodeURIComponent(a[0]);if(i[s]=t.read(o,s),e===s)break}catch(e){}}return e?i[e]:i}},remove:function(e,t){i(e,"",p({},t,{expires:-1}))},withAttributes:function(t){return e(this.converter,p({},this.attributes,t))},withConverter:function(t){return e(p({},this.converter,t),this.attributes)}},{attributes:{value:Object.freeze(r)},converter:{value:Object.freeze(t)}})}({read:function(e){return'"'===e[0]&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}},{path:"/"});var f=function(e,t,r){var i={expires:void 0,domain:void 0,secure:!1,sameSite:void 0};return(null==r?void 0:r.expireDay)&&(i.expires=r.expireDay),(null==r?void 0:r.domain)&&(i.domain=r.domain),(null==r?void 0:r.secure)&&(i.secure=!0),(null==r?void 0:r.sameSite)&&(i.sameSite=r.sameSite),h.set(e,t,i),t};const b=function(e){return h.get(e)},v=f;var _=function(e){var t=new RegExp(["^(https?:)//","(([^:/?#]*)(?::([0-9]+))?)","(/{0,1}[^?#]*)","(\\?[^#]*|)","(#.*|)$"].join("")),r=e.match(t);return r?{href:e,protocol:r[1],host:r[2],hostname:r[3],port:r[4],pathname:r[5],search:r[6],hash:r[7]}:{href:e,protocol:"",host:"",hostname:"",port:"",pathname:"",search:"",hash:""}},y=function(){return _(location.href).hostname},x="",g=function(e){x=e};const m=_,w=function(e){var t,r=function(e){return decodeURIComponent(e.replace(/\+/g," "))},i=/([^&=]+)=?([^&]*)/g;t=e||window.location.search.substring(1);for(var n={},a=null;a=i.exec(t);)n[r(a[1])]=r(a[2]);return n},k=y;var O=n(8),P=n.n(O),E=n(58),U={SDK_VERSION:"1.0.9.0",API_VERION:"1.0.0.0",MAX_PROPERTY_KEYS:100,MAX_PROPERTY_KEY_LENGTH:256,MAX_PROPERTY_VALUE_BYTE_SIZE:1024,MAX_HTTP_QUERY_STRING_BYTE_SIZE:8192,MAX_BEACON_HTTP_QUERY_STRING_BYTE_SIZE:8192,MAX_RETRIES_REQUEST_EVENT:10,ADBRIX_PREFIX_COOKIE_KEY:"_abx_",ADBRIX_PREDEFINED_EVENTS:["firstopen","start_session","deeplink_open","login","logout","signup","sign_up","daily_first_open","user_property_changed","page_view","invite","use_credit","purchase","view_home","category_view","product_view","add_to_cart","add_to_wishlist","review_order","refund","search","share","list_view","cart_view","paymentinfo_added","tutorial_completed","character_created","stage_cleared","level_achieved","set_push","open_push"]};Object.freeze(U);const I=U;var N=function(){function e(t){var r=this;s()(this,e),d()(this,"jsonMerge",(function(e,t){var r=JSON.parse(JSON.stringify(e));return Object.assign(r,t)})),d()(this,"jsonEqual",(function(e,t){return JSON.stringify(e)===JSON.stringify(t)})),d()(this,"getType",(function(e){if(void 0===e)return"undefined";if(null===e)return"null";switch(Object.prototype.toString.call(e)){case"[object Function]":return"function";case"[object Array]":return"array";case"[object Date]":return"date";case"[object RegExp]":return"regexp";case"[object Error]":return"error";case"[object Arguments]":return"arguments"}return e=e.valueOf?e.valueOf():Object.prototype.valueOf.apply(e),P()(e)})),d()(this,"propertyDataTypeToArray",(function(){var e=["number"];return Object.keys(E.hN).forEach((function(t){e.push(t.toString())})),e})),d()(this,"allowDataTypes",this.propertyDataTypeToArray()),d()(this,"allowDataTypesOnly",["number","string","boolean"]),d()(this,"isNil",(function(e){return null==e})),d()(this,"checkMaxByteSize",(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:I.MAX_PROPERTY_VALUE_BYTE_SIZE;if(r.isNil(e))return!0;var i=encodeURI(e.toString()).split(/%..|./).length-1;return i<=t})),d()(this,"permittedKey",(function(e){var t=e.toLowerCase();return!!/^[a-z0-9_]/.test(t)&&!/[^a-z0-9_:]+/g.test(t.substring(1))})),d()(this,"isValidInputKey",(function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=r.getType(e);return r.isNil(e)?(t&&r._abxOptions.trace.error("required key.. '".concat(e,"'")),!1):"string"!==i?(t&&r._abxOptions.trace.error("The format is incorrect. Please put the key as a string. '".concat(e,"'")),!1):""===e?(r._abxOptions.trace.error("The key must have a value of at least 1 character. '".concat(e,"'")),!1):e.length>I.MAX_PROPERTY_KEY_LENGTH?(t&&r._abxOptions.trace.error("It can only contain up to ".concat(I.MAX_PROPERTY_KEY_LENGTH," characters '").concat(e,"'")),!1):!!r.permittedKey(e)||(t&&r._abxOptions.trace.error("Keys are only allowed in the /^[a-z0-9_]*$/ pattern. '".concat(e,"'")),!1)})),d()(this,"isValidInputValue",(function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=r.getType(e);return r.allowDataTypes.includes(i)?!!r.checkMaxByteSize(e)||(t&&r._abxOptions.trace.error("The value can be up to ".concat(I.MAX_PROPERTY_VALUE_BYTE_SIZE," bytes in size. '").concat(e,"'")),!1):(t&&r._abxOptions.trace.error("Not a valid value. Only (string, number, boolean) '".concat(e,"'")),!1)})),d()(this,"isValidInputValueType",(function(e,t,i){var n=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],a=r.getType(t);if(!i.includes(a))return n&&r._abxOptions.trace.error("Not a valid '".concat(e,"'. Only that value type is allowed. '").concat(i.join(", "),"' '").concat(t,"'")),!1;if("array"===a){var o=[],s=t;return s.forEach((function(a,s){if("object"===r.getType(a))return r.isValidInputProperties(a,n)&&r.isValidInputPropertiesKeyValue(a,n);n&&(r._abxOptions.trace.error("Not a valid '".concat(e,"'. Only that value type is allowed. '").concat(i.join(", "),"' '").concat(t,"'")),o.push(!1))})),o.every((function(e){return e}))}return"object"===a?r.isValidInputProperties(t,n)&&r.isValidInputPropertiesKeyValue(t,n):!!r.checkMaxByteSize(t)||(n&&r._abxOptions.trace.error("The value can be up to ".concat(I.MAX_PROPERTY_VALUE_BYTE_SIZE," bytes in size. '").concat(t,"'")),!1)})),d()(this,"isValidInputProperties",(function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=r.getType(e);return"object"!==i?(t&&r._abxOptions.trace.error("Not a valid '".concat(e,"'. Only that value type is allowed. (object)")),!1):!(Object.keys(e).length>I.MAX_PROPERTY_KEYS&&(t&&r._abxOptions.trace.error("too many properties (more than ".concat(I.MAX_PROPERTY_KEYS,")")),1))})),d()(this,"isValidInputPropertiesKeyValue",(function(e){for(var t=!0,i=Object.keys(e),n=0;n<i.length;n++){var a=i[n].toLowerCase(),o=e[i[n]],s=r.isValidInputKey(a),u=r.isValidInputValueType(o,o,["string","number","boolean","null"]);if(!s){t=!1;break}if(!u){t=!1;break}}return t})),d()(this,"parsePropertyDataType",(function(e){var t=null;switch(r.getType(e)){case"string":t=E.hN.string;break;case"number":isNaN(e)||-1===e.toString().indexOf(".")||(t=E.hN.double),t=E.hN.long;break;case"boolean":t=E.hN.boolean;break;case"null":r._abxOptions.trace.warn("It is not allowed. Only that value type is allowed. (".concat(r.allowDataTypesOnly.join(", "),")"));break;default:r._abxOptions.trace.error("It is not allowed. Only that value type is allowed. (".concat(r.allowDataTypesOnly.join(", "),")"))}return t})),d()(this,"parsePropertiesV1",(function(e){if(!e)return null;var t={},r=function e(t){if(t)switch(t.dataType){case E.hN.string:case E.hN.double:case E.hN.long:case E.hN.boolean:return t.value;case E.hN.array:var r=t.value,i=[];return r.forEach((function(t){i.push(e(t))})),i;case E.hN.dictionary:var n=t.value,a={};return n.forEach((function(t){a[t.key]=e(t)})),a}};return Object.keys(e).forEach((function(i,n){var a=e[n];t[a.key]=r(a)})),t})),d()(this,"parsePropertiesV2",(function(e){if(!e)return null;var t={};return Object.keys(e).forEach((function(r,i){var n=e[i];n&&(t[n.key]="".concat(n.dataType,":").concat(n.value))})),t})),this._abxOptions=t}return l()(e,[{key:"isValidTimestampAndGuid",value:function(e){return new RegExp(/^[0-9]{13}:[0-9A-Fa-f]{8}-[0-9A-Fa-f]{4}-[0-9A-Fa-f]{4}-[0-9A-Fa-f]{4}-[0-9A-Fa-f]{12}/).test(e)}},{key:"getAdbrixPropertyV2",value:function(e,t){var r=this.isValidInputKey(e),i=this.isValidInputValue(t),n=this.parsePropertyDataType(t);return r&&i&&n?{key:e,value:t,dataType:n}:null}},{key:"getAdbrixPropertyV2WithNullIgnore",value:function(e,t){var r=this.isValidInputKey(e),i=this.isValidInputValueType("".concat(t),t,["string","number","boolean","null"]),n=this.getType(t),a=i&&"null"!==n,o=this.parsePropertyDataType(t);return r&&a&&o?{key:e,value:t,dataType:o}:!i&&null}}]),e}();const C=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)}))};var T,S=function(){function e(t){var r=this;s()(this,e),d()(this,"getLastLogId",(function(){var e;return null===(e=r._get())||void 0===e?void 0:e.lastEventLogId})),d()(this,"getLastFirstOpenIdCookie",(function(){var e;return null===(e=r._get())||void 0===e?void 0:e.lastFirstOpenId})),d()(this,"setLastFirstOpenIdCookie",(function(){var e="".concat((new Date).getTime(),":").concat(C()),t=r._get();t.lastFirstOpenId=e,t.lastEventLogId=e,r._save(t)})),d()(this,"getLastDeeplinkOpenIdCookie",(function(){var e;return null===(e=r._get())||void 0===e?void 0:e.lastDeeplinkId})),d()(this,"setLastDeeplinkOpenIdCookie",(function(){var e="".concat((new Date).getTime(),":").concat(C()),t=r._get();t.lastDeeplinkId=e,r._save(t)})),d()(this,"getFirstPartyCookie",(function(){var e;return null===(e=r._get())||void 0===e?void 0:e.firstPartyId})),d()(this,"isFirstPartyCookie",(function(){return!!r.getFirstPartyCookie()})),d()(this,"setFirstPartyCookie",(function(e){var t="".concat(C()),i=r._get();i.firstPartyId=t,r._save(i),r._abxOptions.trace.info("created first party id: ".concat(t)),e&&e()})),d()(this,"setSendFirstParty",(function(e,t){var i=r._get();i.isSendFirstParty=e,r._save(i),r._abxOptions.trace.info("set first party send cookie: ".concat(e," ")),t&&t()})),d()(this,"getSendFirstParty",(function(){var e;return null===(e=r._get())||void 0===e?void 0:e.isSendFirstParty})),d()(this,"isSendFirstParty",(function(){return!!r.getSendFirstParty()})),d()(this,"getSessionIdCookie",(function(){var e=r._get().session;return e?e.sessionId:null})),d()(this,"getSessionCookie",(function(){return r._get().session||null})),d()(this,"isSessionIdCookie",(function(){return!!r.getSessionIdCookie()})),d()(this,"setSessionIdCookie",(function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;t?(e=t,r._abxOptions.trace.info("updated session : ".concat(JSON.stringify(e)))):(e={sessionId:C(),lastUpdate:(new Date).getTime()},r._abxOptions.trace.info("new created session : ".concat(JSON.stringify(e))));var i=r._get();i.session=e,r._save(i)})),d()(this,"_isSessionIdCookieCheckedExpireSec",(function(){var e=r.getSessionCookie();return!e||!e.lastUpdate||((new Date).getTime()-e.lastUpdate)/1e3>r._abxOptions.sessionExpireSec})),d()(this,"syncSessionIdCookie",(function(){var e=r.getSessionCookie(),t=r._isSessionIdCookieCheckedExpireSec();!e||t?r.setSessionIdCookie():(e.lastUpdate=(new Date).getTime(),r.setSessionIdCookie(e))})),d()(this,"getUserHashId",(function(){var e;return null===(e=r._get())||void 0===e?void 0:e.userId})),d()(this,"setUserHashId",(function(e){var t=r._get();t.userId=e,r._save(t)})),d()(this,"removeUserHashId",(function(){var e=r._get();e.userId=null,r._save(e)})),d()(this,"setUserProperty",(function(e){var t=r._get().userProperty;if(e&&t){if(JSON.stringify(t.userProperty)!==JSON.stringify(e.userProperty)){e.snapshot=C();var i=r._get();i.userProperty=e,r._save(i),r._abxOptions.trace.info("new user property: ".concat(JSON.stringify(e)))}}else{e.snapshot=C();var n=r._get();n.userProperty=e,r._save(n),r._abxOptions.trace.info("new user property: ".concat(JSON.stringify(e)))}return e})),d()(this,"getUserProperty",(function(){return r._get().userProperty||r.setUserProperty({userProperty:[],snapshot:null})})),d()(this,"getLastDailyFirstOpenTimeCookie",(function(){var e;return null===(e=r._get())||void 0===e?void 0:e.lastDailyFirstOpenTime})),d()(this,"isLastDailyFirstOpenTimeCookie",(function(){return!!r.getLastDailyFirstOpenTimeCookie()})),d()(this,"setLastDailyFirstOpenTimeCookie",(function(e){var t=r._get();t.lastDailyFirstOpenTime=e,r._save(t)})),this._abxOptions=t}return l()(e,[{key:"_getKey",value:function(){var e="".concat(I.ADBRIX_PREFIX_COOKIE_KEY,"_").concat(this._abxOptions.appkey);return this._abxOptions.shareSubdomainCookie||(e="".concat(e,"_").concat(k())),e}},{key:"_defaultData",value:function(){return{firstPartyId:null,isSendFirstParty:null,lastFirstOpenId:null,lastEventLogId:null,lastDailyFirstOpenTime:null,session:{sessionId:null,lastUpdate:null},userId:null,userProperty:{userProperty:[],snapshot:null}}}},{key:"_getDomain",value:function(){if(!this._abxOptions.shareSubdomainCookie)return k();var e=function(){if(""!==x)return x;var e=y(),t=e.split("."),r=t[t.length-1],i=[];if(4===t.length&&r===parseInt(r,10))return g(""),e;if(t.length<=1)return g(""),x="",e;for(var n=t.length-2;n>=0;--n)i.push(t.slice(n).join("."));for(var a=0;a<i.length;++a){var o="__abx_top_domain_test__",s=i[a],u={domain:"."+s,expireDay:1};if(b(o))return v(o,null,u),g(s),s}return g(""),""}();return-1!==e.indexOf(".")&&(e=".".concat(e)),e}},{key:"_save",value:function(e){var t=this._getKey();v(t,JSON.stringify(e),{expireDay:365,domain:this._getDomain()})}},{key:"_get",value:function(){var e,t=b(this._getKey());if(null!=t)try{return JSON.parse(t)}catch(t){this._abxOptions.trace.info("".concat(this._getKey()," : delete to cookie value parsing failure")),e=this._getKey(),f(e,null)}return this._defaultData()}},{key:"setLastLogId",value:function(e){var t=this._get();t.lastEventLogId=e,this._save(t)}},{key:"getEnablePushCookie",value:function(){var e;return null===(e=this._get())||void 0===e?void 0:e.is_push_enable}},{key:"getSubscriptionIdCookie",value:function(){var e;return null===(e=this._get())||void 0===e?void 0:e.registration_id}},{key:"setEnablePush",value:function(e){var t=this._get();t.is_push_enable=e,t.is_push_enable_os=e,this._save(t)}},{key:"setPushSubscriptionId",value:function(e){var t=this._get();t.registration_id=e,this._save(t)}}]),e}(),V=function(){function e(t){s()(this,e),this._abxOptions=t,this._abxUtil=new N(this._abxOptions),this._abxCookie=new S(this._abxOptions),this._userProperty=this._abxCookie.getUserProperty()}return l()(e,[{key:"defaultUserProperty",value:function(){return{userProperty:[],snapshot:null}}},{key:"isNullUser",value:function(){return this._abxUtil.jsonEqual(this._userProperty,this.defaultUserProperty())}},{key:"syncUserPropertyWithCookie",value:function(){this.isNullUser()?this._userProperty=this._abxCookie.getUserProperty():this._userProperty=this._abxCookie.setUserProperty(this._userProperty)}},{key:"removeUserPropertyKey",value:function(e){var t=!1;if(this._userProperty){var r=this._userProperty.userProperty.findIndex((function(t){return t.key===e}));r>-1&&(this._userProperty.userProperty.splice(r,1),t=!0)}return this.syncUserPropertyWithCookie(),t}},{key:"setUserPropertyKeyValue",value:function(e){var t=this;null!=e.value?"array"===this._abxUtil.getType(this._userProperty.userProperty)?(this._userProperty.userProperty.some((function(t){return t.key===e.key}))?this._userProperty.userProperty.forEach((function(r,i){r.key===e.key&&(t._userProperty.userProperty[i]=e)})):this._userProperty.userProperty.push(e),this.syncUserPropertyWithCookie()):(this._userProperty.userProperty=[],this._userProperty.userProperty.push(e),this.syncUserPropertyWithCookie()):this.removeUserPropertyKey(e.key)}},{key:"clearUserProperty",value:function(){var e=this._userProperty.userProperty.length>0;return this._userProperty.userProperty=[],this.syncUserPropertyWithCookie(),e}},{key:"userProperty",get:function(){return this._userProperty}}]),e}(),A=function(){function e(t){s()(this,e),this._abxOptions=t,this._abxUtil=new N(this._abxOptions),this._abxCookie=new S(this._abxOptions)}return l()(e,[{key:"eventParam",value:function(e,t){var r=this,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n={eventName:e,eventProperties:[]};if(this._abxUtil.isNil(t))return n;var a=function(e,t){var n=e;return i&&(n="c:".concat(n)),r._abxUtil.getAdbrixPropertyV2WithNullIgnore(n,t)},o=function(e){var t=!0,i=[];return e.forEach((function(e){if(r._abxUtil.isValidInputProperties(e)){var n={key:null,dataType:E.hN.dictionary,value:[]};Object.keys(e).forEach((function(r){var i=r.toLowerCase(),o=e[r],s=a(i,o);null===s?t=!1:n.value.push(s)})),i.push(n)}})),t?i:null},s=t;if(this._abxUtil.isValidInputProperties(s)){var u=!0;if(Object.keys(s).forEach((function(e){var t=e.toLowerCase(),i=s[e];if("abx:items"===t&&r._abxUtil.isValidInputValueType(t,i,["array"])){var l={key:"abx:items",dataType:E.hN.array,value:null},c=o(i);null===c?u=!1:(l.value=c,n.eventProperties.push(l))}else{var d=a(e.toLowerCase(),i);null===d?u=!1:!1===d?r._abxOptions.trace.warn("If a value (null) is included, events for that property are excluded and sent. {".concat(e,": ").concat(i,"}")):n.eventProperties.push(d)}})),u)return n}return null}}]),e}(),R=n(319),L=n.n(R);if(function(){var e,t=(new Date).toString();try{return window.localStorage.setItem(t,t),e=window.localStorage.getItem(t)===String(t),window.localStorage.removeItem(t),e}catch(e){}return!1}())T=window.localStorage;else if(window.globalStorage)try{T=window.globalStorage[window.location.hostname]}catch(e){}else{var D=document.createElement("div"),j="localStorage";D.style.display="none",document.getElementsByTagName("head")[0].appendChild(D),D.addBehavior&&(D.addBehavior("#default#userdata"),T={length:0,setItem:function(e,t){D.load(j),D.getAttribute(e)||this.length++,D.setAttribute(e,t),D.save(j)},getItem:function(e){return D.load(j),D.getAttribute(e)},removeItem:function(e){D.load(j),D.getAttribute(e)&&this.length--,D.removeAttribute(e),D.save(j)},clear:function(){D.load(j);for(var e,t=0;e=D.XMLDocument.documentElement.attributes[t++];)D.removeAttribute(e.name);D.save(j),this.length=0},key:function(e){return D.load(j),D.XMLDocument.documentElement.attributes[e]}},D.load(j),T.length=D.XMLDocument.documentElement.attributes.length)}T||(T={length:0,setItem:function(e,t){},getItem:function(e){},removeItem:function(e){},clear:function(){},key:function(e){}});const M=T;var F,B=function(){function e(t){s()(this,e),this._abxOptions=t}return l()(e,[{key:"_getKey",value:function(){var e="".concat(I.ADBRIX_PREFIX_COOKIE_KEY,"_").concat(this._abxOptions.appkey);return this._abxOptions.shareSubdomainCookie||(e="".concat(e,"_").concat(k())),e}},{key:"_defaultData",value:function(){return{failed_event_requests:{},lastUpdate:null}}},{key:"_save",value:function(e){var t=this._getKey();e.lastUpdate=(new Date).getTime(),M.setItem(t,JSON.stringify(e))}},{key:"_get",value:function(){var e=M.getItem(this._getKey());if(null!=e)try{return JSON.parse(e)}catch(e){M.removeItem(this._getKey())}return this._defaultData()}},{key:"setFailedEventRequest",value:function(e){var t=this._get();t.failed_event_requests[e.request_id]=e,this._save(t)}},{key:"getFailedEventRequest",value:function(){var e=this._get();return null==e?void 0:e.failed_event_requests}},{key:"removeFailedEventRequest",value:function(e){var t=this._get();delete t.failed_event_requests[e],this._save(t)}}]),e}();!function(e){e.GET="GET",e.POST="POST"}(F||(F={}));var q=function(){function e(t,r){s()(this,e),this._abxOptions=t,this._abxUtil=r}return l()(e,[{key:"sendXhr",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:F.POST,i=r.toString(),n={method:i,url:e};return this._abxUtil.isNil(t)||(i===F.GET.toString()?t&&"object"===P()(t)?n.params=Object.keys(t).map((function(e){return encodeURIComponent(e)+"="+encodeURIComponent(t[e])})).join("&"):n.params=t:n.params=JSON.stringify(t)),new Promise((function(e,t){var r=!!window.XDomainRequest,i=r?new window.XDomainRequest:new XMLHttpRequest;i.open(n.method,n.url),i.timeout=1e3,r?(i.onload=function(){e(i.responseText)},i.onerror=function(){"Request Entity Too Large"===i.responseText?t({status:413,statusText:i.responseText}):t({status:500,statusText:i.responseText})},i.ontimeout=function(){},i.onprogress=function(){}):(i.onload=function(){this.status>=200&&this.status<300?e(i.response):t({status:this.status,statusText:i.statusText})},i.onerror=function(){t({status:this.status,statusText:i.statusText})},n.headers&&Object.keys(n.headers).forEach((function(e){i.setRequestHeader(e,n.headers[e])}))),i.send(n.params)}))}},{key:"sendImage",value:function(e,t){return new Promise((function(r,i){var n=new Image(1,1),a="".concat(e).concat(encodeURIComponent(JSON.stringify(t)));n.onload=r,n.onerror=i,n.src=a}))}},{key:"sendBeacon",value:function(e,t){return navigator.sendBeacon?this._abxUtil.checkMaxByteSize("".concat(JSON.stringify(t)),I.MAX_HTTP_QUERY_STRING_BYTE_SIZE)?new Promise((function(r,i){return navigator.sendBeacon(e,JSON.stringify(t))?r:i})):(this._abxOptions.trace.warn("Transmission data is large, so it is replaced by xhr method."),this.sendXhr(e,t)):this._abxUtil.checkMaxByteSize("".concat(JSON.stringify(t)),I.MAX_HTTP_QUERY_STRING_BYTE_SIZE)?(this._abxOptions.trace.warn("This is a browser that does not support `navigator.sendBeacon`.\nIt is transmitted by replacing it with pixel."),this.sendImage("".concat(e,"/?e="),t)):(this._abxOptions.trace.warn("Transmission data is large (query string), so it is replaced by xhr method."),this.sendXhr(e,t))}}]),e}();const K={isPortrait:function(){return!window.screen||!window.screen.orientation||!window.screen.orientation.type||-1!==window.screen.orientation.type.indexOf("portrait")},width:window.screen?window.screen.width:0,height:window.screen?window.screen.height:0,resolution:window.screen?"number"==typeof window.screen.width?"".concat(window.screen.width,"x").concat(window.screen.height):"0x0":0,userLanguage:(navigator&&(navigator.languages&&navigator.languages[0]||navigator.language||navigator.userLanguage)||"").toString(),userAgent:navigator.userAgent};var z=n(238),G=n.n(z),J=function(){function e(t){s()(this,e),d()(this,"_commonParam",[]),d()(this,"getEventApiUrl",(function(e,t){return"".concat(e===E.Fh.ap1?"https://ap1.event.dfinery.io":"https://ap2.event.dfinery.io","/api/v1/event/bulk/").concat(t)})),this._abxOptions=t,this._abxCookie=new S(this._abxOptions),this._abxStorage=new B(this._abxOptions),this._abxUtil=new N(this._abxOptions),this._abxTransport=new q(this._abxOptions,this._abxUtil),this.initDefaultCommonParam()}var r,n,a,o,u,c;return l()(e,[{key:"defaultCommonParam",value:function(){return{key:"abx:path",value:_(location.href).pathname,dataType:E.hN.string}}},{key:"initDefaultCommonParam",value:function(){this._commonParam=[]}},{key:"setEventApiUrl",value:function(){var e=this._abxOptions.appLandingMetaInfo,t=e.region,r=e.appkey;this.eventApiUrl=this.getEventApiUrl(t,r)}},{key:"setAndGetLogId",value:function(){var e="".concat((new Date).getTime(),":").concat(C());return this._abxCookie.setLastLogId(e),e}},{key:"getLastFirstOpenLogId",value:function(){return this._abxCookie.getLastFirstOpenIdCookie()}},{key:"getLastDeeplinkLogId",value:function(){return this._abxCookie.getLastDeeplinkOpenIdCookie()}},{key:"isAdbrixPredefinedEvents",value:function(e){return I.ADBRIX_PREDEFINED_EVENTS.some((function(t){return t===e}))}},{key:"getBaseRequestJsonObject",value:function(){var e,t,r,i,n,a,o,s=new(G().UAParser),u=null==(null===(e=s.getOS())||void 0===e?void 0:e.name)?null:"".concat(null===(t=s.getOS())||void 0===t?void 0:t.name," ").concat(null===(r=s.getOS())||void 0===r?void 0:r.version).toLowerCase();return{request_datetime:(new Date).toISOString(),identity:{cookie:this._abxCookie.getFirstPartyCookie(),uuid:null,adid:"cookie:".concat(this._abxCookie.getFirstPartyCookie()),idfv:null,ad_id_opt_out:this._abxOptions.isOptOut,user_hash:this._abxOptions.userHash,device_id:null,is_push_enable_os:this._abxCookie.getEnablePushCookie(),is_push_enable:this._abxCookie.getEnablePushCookie(),registration_id:this._abxCookie.getSubscriptionIdCookie()},device_info:{os:u,model:null!==(i=null===(n=s.getBrowser())||void 0===n?void 0:n.version.toLowerCase())&&void 0!==i?i:null,vendor:null!==(a=null===(o=s.getBrowser())||void 0===o?void 0:o.name.toLowerCase())&&void 0!==a?a:null,resolution:K.resolution,is_portrait:K.isPortrait(),platform:"web",network:null,carrier:null,language:null==K?void 0:K.userLanguage.toLowerCase(),country:null,time_zone_offset:-1*(new Date).getTimezoneOffset()},package_name:k(),appkey:this._abxOptions.appkey,api_version:this._abxOptions.apiVersion,sdk_version:this._abxOptions.sdkVersion,installer:null,app_version:this._abxOptions.appVersion,build_id:null,last_firstopen_id:this._abxCookie.getLastFirstOpenIdCookie(),last_deeplink_id:this._abxCookie.getLastDeeplinkOpenIdCookie()}}},{key:"getEventRequestJsonObject",value:function(e){var t=e.group===E._D.abx&&"firstopen"===e.eventName,r=e.group===E._D.abx&&"deeplink_open"===e.eventName;return{prev_id:t?null:this._abxCookie.getLastLogId(),event_datetime:(new Date).toISOString(),group:e.group,event_name:e.eventName,param:null===e.properties?{}:this._abxUtil.parsePropertiesV1(e.properties),session_interval:0,session_length:0,log_id:t?this.getLastFirstOpenLogId():r?this.getLastDeeplinkLogId():this.setAndGetLogId(),session_id:this._abxCookie.getSessionIdCookie(),user_snapshot_id:this._abxCookie.getUserProperty().snapshot,location:null,user_properties:this._abxUtil.parsePropertiesV1(this._abxCookie.getUserProperty().userProperty)}}},{key:"addCommonParam",value:function(e){this._commonParam.push(e)}},{key:"addCommonParams",value:function(e){var t=this;e.length>0&&e.forEach((function(e){t._commonParam.push(e)}))}},{key:"serializedEventParam",value:function(e,t){var r={group:t&&this.isAdbrixPredefinedEvents(e.eventName)?E._D.abx:E._D.custom,eventName:e.eventName,properties:[this.defaultCommonParam()].concat(L()(this._commonParam),L()(e.eventProperties))};return this.getEventRequestJsonObject(r)}},{key:"sendImage",value:(c=i()(t().mark((function e(r){var n=this;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._abxTransport.sendImage("".concat(r.url,"/?e="),r.request).then((function(){n._abxOptions.trace.info("send complete.\n ".concat(r.url).concat(JSON.stringify(r.request)))})).catch(function(){var e=i()(t().mark((function e(i){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!navigator.sendBeacon){e.next=5;break}return e.next=3,n.sendBeacon(r);case 3:e.next=7;break;case 5:return e.next=7,n.sendXhr(r);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 2:case"end":return e.stop()}}),e,this)}))),function(e){return c.apply(this,arguments)})},{key:"sendBeacon",value:(u=i()(t().mark((function e(r){var i=this;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._abxTransport.sendBeacon("".concat(r.url),r.request).then((function(){i._abxOptions.trace.info("send complete.\n ".concat(r.url).concat(JSON.stringify(r.request)))})).catch((function(){i._abxStorage.setFailedEventRequest(r),i._abxOptions.trace.error("send error.\n ".concat(r.url).concat(JSON.stringify(r.request)))}));case 2:case"end":return e.stop()}}),e,this)}))),function(e){return u.apply(this,arguments)})},{key:"sendXhr",value:(o=i()(t().mark((function e(r){var i=this;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._abxTransport.sendXhr("".concat(r.url),r.request).then((function(){i._abxOptions.trace.info("send complete.\n ".concat(r.url).concat(JSON.stringify(r.request)))})).catch((function(){i._abxStorage.setFailedEventRequest(r),i._abxOptions.trace.error("send error.\n ".concat(r.url).concat(JSON.stringify(r.request)))}));case 2:case"end":return e.stop()}}),e,this)}))),function(e){return o.apply(this,arguments)})},{key:"sendEventCore",value:(a=i()(t().mark((function e(r){var i,n=arguments;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=n.length>1&&void 0!==n[1]?n[1]:null,this._abxOptions.trace.info("".concat(JSON.stringify(r.request))),e.t0=this._abxOptions.transport||i,e.next=e.t0===E.IB.IMAGE?5:e.t0===E.IB.XHR?9:(e.t0,E.IB.BEACON,13);break;case 5:return e.next=7,this.sendImage(r);case 7:case 11:case 15:return e.abrupt("return",e.sent);case 9:return e.next=11,this.sendXhr(r);case 13:return e.next=15,this.sendBeacon(r);case 17:case"end":return e.stop()}}),e,this)}))),function(e){return a.apply(this,arguments)})},{key:"sendEvent",value:(n=i()(t().mark((function e(r){var i,n,a,o=arguments;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=o.length>1&&void 0!==o[1]?o[1]:null,n={common:this.getBaseRequestJsonObject(),evts:[r]},a={request_id:C(),url:this.eventApiUrl,request:n,timestamp:(new Date).getTime(),retry_count:0},e.next=5,this.sendEventCore(a,i);case 5:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{key:"sendEventBulk",value:(r=i()(t().mark((function e(r){var i,n,a,o=arguments;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=o.length>1&&void 0!==o[1]?o[1]:null,n={common:this.getBaseRequestJsonObject(),evts:L()(r)},a={request_id:C(),url:this.eventApiUrl,request:n,timestamp:(new Date).getTime(),retry_count:0},e.next=5,this.sendEventCore(a,i);case 5:case"end":return e.stop()}}),e,this)}))),function(e){return r.apply(this,arguments)})}]),e}(),H=function(){function e(t){s()(this,e),this._abxOptions=t,this._abxUtil=new N(this._abxOptions)}return l()(e,[{key:"getPropsQueryParamByPrefix",value:function(e,t,r){var i=this,n=[];return Object.keys(e).forEach((function(a){var o=a.toLowerCase();if(o.indexOf("".concat(t,"_"))>-1){var s=i._abxUtil.getAdbrixPropertyV2("".concat(r,":").concat(o),e[a]);s&&n.push(s)}})),n}},{key:"getPropsQueryParamByKey",value:function(e,t,r){var i=this,n=[];return Object.keys(e).forEach((function(a){var o=a.toLowerCase();if(o===t){var s=i._abxUtil.getAdbrixPropertyV2("".concat(r,":").concat(o),e[a]);s&&n.push(s)}})),n}},{key:"getPropsQueryParamByKeys",value:function(e,t,r){var i=this,n=[];return Object.keys(e).forEach((function(a){var o=a.toLowerCase();if(t.some((function(e){return e.toLowerCase()===o}))){var s=i._abxUtil.getAdbrixPropertyV2("".concat(r,":").concat(o),e[a]);s&&n.push(s)}})),n}},{key:"getUtmParamData",value:function(e){return this.getPropsQueryParamByKeys(e,Object.values(E.lt),"abx")}},{key:"getNaverParamData",value:function(e){return this.getPropsQueryParamByKeys(e,Object.values(E.M4),"abx")}},{key:"getGclidParamData",value:function(e){return this.getPropsQueryParamByKey(e,"gclid","abx")}},{key:"getFbclidParamData",value:function(e){return this.getPropsQueryParamByKey(e,"fbclid","abx")}},{key:"getCustomParamData",value:function(e,t){return this.getPropsQueryParamByKeys(e,t,"custom")}}]),e}(),X=n(679),Y=function(){function e(t){s()(this,e),d()(this,"isInitialized",!1),d()(this,"isInitializing",!1),d()(this,"_backgroundTimer",null),d()(this,"_backgroundJobs",[]),d()(this,"_firstOpenAndLogin",!1),this._abxOptions=t,this._abxUtil=new N(this._abxOptions),this._abxCookie=new S(this._abxOptions),this._abxStorage=new B(this._abxOptions),this._abxUserProperty=new V(this._abxOptions),this._abxEventProperty=new A(this._abxOptions),this._abxEvent=new J(this._abxOptions),this._abxUrlParam=new H(this._abxOptions),this._abxTransport=new q(this._abxOptions,this._abxUtil)}var r,n;return l()(e,[{key:"_addBackground",value:function(e){this._backgroundJobs.push(e)}},{key:"_exec",value:function(){var e=this;this._backgroundJobs.length>0&&this._backgroundJobs.forEach((function(t){return t(e)}))}},{key:"_execBackgound",value:function(){var e=this;this._backgroundTimer=window.setInterval((function(){e._exec()}),18e5)}},{key:"_cleanBackground",value:function(){this._backgroundTimer&&(window.clearInterval(this._backgroundTimer),this._backgroundJobs=[])}},{key:"getAbxCookie",value:function(){return this._abxCookie}},{key:"_syncDailyFirstOpen",value:function(e){var t=e._abxCookie.getLastDailyFirstOpenTimeCookie();t&&(new Date).toDateString()!==new Date(t).toDateString()&&(e._abxOptions.trace.info("daily_first_open event send..!"),e.sendEvent("daily_first_open",{},!0),e._abxCookie.setLastDailyFirstOpenTimeCookie((new Date).getTime()))}},{key:"_syncFailedRetrySendEvents",value:function(e){var r=e._abxStorage.getFailedEventRequest();Object.keys(r).forEach(function(){var n=i()(t().mark((function i(n){var a;return t().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(a=r[n]).retry_count+=1,t.next=4,e._abxEvent.sendEventCore(a).then((function(){e._abxStorage.removeFailedEventRequest(n),e._abxOptions.trace.info("send complete.\n ".concat(a.url).concat(JSON.stringify(a.request)))})).catch((function(){I.MAX_RETRIES_REQUEST_EVENT<=a.retry_count?e._abxStorage.removeFailedEventRequest(n):e._abxStorage.setFailedEventRequest(a),e._abxOptions.trace.error("send error.\n ".concat(a.url).concat(JSON.stringify(a.request)))}));case 4:case"end":return t.stop()}}),i)})));return function(e){return n.apply(this,arguments)}}())}},{key:"_initMigrateData",value:function(){var e=this._abxCookie.isFirstPartyCookie(),t=this._abxUtil.isNil(this._abxCookie.getSendFirstParty());e&&t&&this._abxCookie.setSendFirstParty(!0)}},{key:"_initAdbrixCore",value:(n=i()(t().mark((function e(){var r,i,n,a,o,s,u,l,c,d;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.isInitialized){e.next=2;break}return e.abrupt("return");case 2:if(this._initMigrateData(),r=k(),(i=this._abxUtil.getAdbrixPropertyV2("abx:domain",r))&&this._abxEvent.addCommonParam(i),n=w(),this._abxOptions.isUtmParsing&&this._abxEvent.addCommonParams(this._abxUrlParam.getUtmParamData(n)),this._abxOptions.isNaverParsing&&this._abxEvent.addCommonParams(this._abxUrlParam.getNaverParamData(n)),this._abxOptions.isIncludeGclid&&this._abxEvent.addCommonParams(this._abxUrlParam.getGclidParamData(n)),this._abxOptions.isIncludeFbclid&&this._abxEvent.addCommonParams(this._abxUrlParam.getFbclidParamData(n)),this._abxOptions.isIncludeReferrer&&(a=m(document.referrer),(o=this._abxUtil.getAdbrixPropertyV2("abx:ref_host",a.hostname))&&this._abxEvent.addCommonParam(o),(s=this._abxUtil.getAdbrixPropertyV2("abx:ref_path",a.pathname))&&this._abxEvent.addCommonParam(s)),this._abxOptions.supportUrlQueryKeys&&this._abxEvent.addCommonParams(this._abxUrlParam.getCustomParamData(n,this._abxOptions.supportUrlQueryKeys)),this._abxOptions.userHash?this.userHash=this._abxOptions.userHash:this._abxOptions.userHash=this._abxCookie.getUserHashId(),u=[],this._abxCookie.isSendFirstParty()){e.next=40;break}return this._abxCookie.setSendFirstParty(!1),this._abxCookie.isFirstPartyCookie()||this._abxCookie.setFirstPartyCookie(),this._abxCookie.setSessionIdCookie(),this._abxCookie.setLastFirstOpenIdCookie(),this._abxCookie.setLastDailyFirstOpenTimeCookie((new Date).getTime()),l={eventName:"firstopen",properties:{},isAbxPredefinedCheck:!0},c=n.abx_tid,!this._abxUtil.isNil(c)&&this._abxUtil.isValidTimestampAndGuid(c)&&(l.properties["abx:click_adkey"]=c),u.push(l),u.push({eventName:"start_session",properties:{},isAbxPredefinedCheck:!0}),this._abxOptions.isExecPageViewEvent&&u.push({eventName:"page_view",properties:{},isAbxPredefinedCheck:!0}),e.next=29,this.sendEventBulk(u);case 29:if(!e.sent){e.next=36;break}this._abxCookie.setSendFirstParty(!0),this._abxOptions.trace.info('first open event sending transfer success"'),this._firstOpenAndLogin&&this.sendEvent("login",{},!0),e.next=38;break;case 36:return this._abxOptions.trace.error('first open event sending transfer failed"'),e.abrupt("return",!1);case 38:e.next=49;break;case 40:return this._abxCookie.syncSessionIdCookie(),this._abxUserProperty.syncUserPropertyWithCookie(),u.push({eventName:"start_session",properties:{},isAbxPredefinedCheck:!0}),d=n.abx_tid,!this._abxUtil.isNil(d)&&this._abxUtil.isValidTimestampAndGuid(d)&&(this._abxCookie.setLastDeeplinkOpenIdCookie(),u.push({eventName:"deeplink_open",properties:{"abx:deeplink_adkey":d},isAbxPredefinedCheck:!0})),this._abxOptions.isExecPageViewEvent&&u.push({eventName:"page_view",properties:{},isAbxPredefinedCheck:!0}),e.next=48,this.sendEventBulk(u);case 48:this._syncDailyFirstOpen(this);case 49:return this._addBackground(this._abxCookie.syncSessionIdCookie),this._addBackground(this._syncDailyFirstOpen),this._addBackground(this._syncFailedRetrySendEvents),this._syncFailedRetrySendEvents(this),e.abrupt("return",!0);case 54:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"init",value:(r=i()(t().mark((function e(r){var n=this;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.isInitializing=!0,e.abrupt("return",new Promise((function(e,t){var i,a;n._abxOptions.appkey&&t(Error("appkey has already been added.")),(null==r?void 0:r.appkey)||t(Error("required appkey..")),22!==(null==r||null===(i=r.appkey)||void 0===i?void 0:i.length)&&t(Error("not a valid appkey..")),(null==r?void 0:r.webSecretkey)||t(Error("required webSecretkey..")),22!==(null==r||null===(a=r.webSecretkey)||void 0===a?void 0:a.length)&&t(Error("not a valid webSecretkey..")),n._abxTransport.sendXhr("".concat("https://static.adbrix.io/web-sdk/apps/").concat((0,X.m)(r.appkey),".json"),null,F.GET).then((function(i){i||t();var n=JSON.parse(i);n.measurement||t(Error("Your app is inactive web sdk add-on package.")),n.appkey!==r.appkey&&t(Error("not a valid appkey..")),null===n.web_secretkey_sha256&&t(Error("Please add the web platform in console.adbrix.io")),n.web_secretkey_sha256!==(0,X.m)(r.webSecretkey)&&t(Error("not a valid webSecretkey..")),e(n)})).catch((function(e){t(Error("App information could not be loaded."))}))})).then(function(){var e=i()(t().mark((function e(i){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.isInitialized=!0,n._abxOptions.setOptions(r,i),n._abxEvent.setEventApiUrl(),e.next=5,n._initAdbrixCore();case 5:return e.sent||Promise.reject(Error("init failed")),n._execBackgound(),e.abrupt("return",i);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){return n.isInitialized=!1,Promise.reject(e)})).finally((function(){n.isInitializing=!1})));case 2:case"end":return e.stop()}}),e,this)}))),function(e){return r.apply(this,arguments)})},{key:"isVaildAppkey",value:function(){return!!this._abxOptions.appkey}},{key:"getUserProperty",value:function(){var e=this._abxUserProperty.userProperty;return this._abxUtil.parsePropertiesV1(e.userProperty)}},{key:"setUserProperty",value:function(e,t){var r=this._abxUtil.getAdbrixPropertyV2(e,t);if(r){var i=this._abxUserProperty.userProperty,n=!1;i.userProperty&&(n=i.userProperty.some((function(e){return e.key===r.key&&e.value===r.value&&e.dataType===r.dataType}))),this._abxUserProperty.setUserPropertyKeyValue(r),"user_id"===e&&this.isInitialized&&this._abxCookie.getFirstPartyCookie()?(this._abxOptions.trace.info("login"),this.sendEvent("login",{},!0)):!this.isNilUserHash&&this.isInitialized&&this._abxCookie.getFirstPartyCookie()&&!n&&(this._abxOptions.trace.info("changed User Property"),this.sendEvent("user_property_changed",{},!0))}}},{key:"syncUserProperty",value:function(){this._abxUserProperty.syncUserPropertyWithCookie()}},{key:"removeUserProperty",value:function(e){this._abxUserProperty.removeUserPropertyKey(e)&&!this.isNilUserHash&&this.isInitialized&&(this._abxOptions.trace.info("changed User Property"),this.sendEvent("user_property_changed",{},!0))}},{key:"removesUserProperty",value:function(e){var t=this,r=[];e.forEach((function(e){var i=t._abxUserProperty.removeUserPropertyKey(e);r.push(i)})),r.some((function(e){return e}))&&!this.isNilUserHash&&this.isInitialized&&(this._abxOptions.trace.info("changed User Property"),this.sendEvent("user_property_changed",{},!0))}},{key:"clearUserProperty",value:function(){this._abxUserProperty.clearUserProperty()}},{key:"cuttingAbxItems",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;function r(e,t){return e.reduce((function(e,r,i){var n=Math.floor(i/t);return(e[n]||(e[n]=[])).push(r),e}),[])}return this._abxUtil.isNil(e)||this._abxUtil.isNil(e["abx:items"])||"array"!==this._abxUtil.getType(e["abx:items"])?null:r(e["abx:items"],t)}},{key:"sendEvent",value:function(e,t){var r=this,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(!this.isInitialized)return this._abxOptions.trace.error('This event will be send after "adbrix.init({...arg});"'),!1;if(!this._abxUtil.isNil(t)&&!this._abxUtil.isNil(t["abx:items"])){var a=this._abxOptions.transport===E.IB.IMAGE?2:100,o=this.cuttingAbxItems(t,a);if(!this._abxUtil.isNil(o)){var s=this._abxUtil.jsonMerge(t,{});o.forEach((function(t,a){s["abx:page"]=a+1,s["abx:items"]=t;var o=r._abxEventProperty.eventParam(e,s,n);null==o&&r._abxOptions.trace.error("Invalid Parameters - index[".concat(a,']"'));var u=r._abxEvent.serializedEventParam(o,i);r._abxEvent.sendEvent(u)}))}return!0}var u=this._abxEventProperty.eventParam(e,t,n);if(null==u)return this._abxOptions.trace.error('Invalid Parameters"'),!1;var l=this._abxEvent.serializedEventParam(u,i);return this._abxEvent.sendEvent(l),!0}},{key:"sendEventBulk",value:function(e){var t=this;if(!this.isInitialized)return this._abxOptions.trace.error('This event will be send after "adbrix.init({...arg});"'),!1;var r=[];return this._abxUtil.isNil(e)||e.forEach((function(e,i){var n=e.eventName,a=e.properties,o=e.isAbxPredefinedCheck;if(t._abxUtil.isNil(a["abx:items"])){var s=t._abxEventProperty.eventParam(e.eventName,e.properties);if(null==s)t._abxOptions.trace.error("Invalid Parameters - index[".concat(i,']"'));else{var u=t._abxEvent.serializedEventParam(s,o);r.push(u)}}else{var l=t._abxOptions.transport===E.IB.IMAGE?2:100,c=t.cuttingAbxItems(a,l);if(!t._abxUtil.isNil(c)){var d=t._abxUtil.jsonMerge(a,{});c.forEach((function(e,i){d["abx:page"]=i+1,d["abx:items"]=e;var a=t._abxEventProperty.eventParam(n,d);null==a&&t._abxOptions.trace.error("Invalid Parameters - index[".concat(i,']"'));var s=t._abxEvent.serializedEventParam(a,o);r.push(s)}))}}})),this._abxEvent.sendEventBulk(r),!0}},{key:"userHash",get:function(){return this._abxOptions.userHash},set:function(e){this._abxOptions.userHash=e,null!=e?(this.setUserProperty("user_id",e),this._abxCookie.getUserHashId()||(this._firstOpenAndLogin=!0),this._abxCookie.setUserHashId(e)):(this.removeUserProperty("user_id"),this._abxCookie.removeUserHashId(),this.clearUserProperty(),this._abxOptions.trace.info("logout"),this.sendEvent("logout",{},!0))}},{key:"deviceId",get:function(){return this._abxCookie.getFirstPartyCookie()}},{key:"traceListener",get:function(){return this._abxOptions.traceListener},set:function(e){this._abxOptions.traceListener=e}},{key:"isNilUserHash",get:function(){var e,t=null===(e=this._abxOptions)||void 0===e?void 0:e.userHash;return null===t||""===t}}]),e}();function Q(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function W(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Q(Object(r),!0).forEach((function(t){d()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Q(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Z=E.IB.IMAGE,$=E.Gu.ERROR,ee=function(){function e(){var t=this;s()(this,e),d()(this,"appLandingMetaInfo",null),d()(this,"global",{sdkVersion:I.SDK_VERSION,apiVersion:I.API_VERION,sessionExpireSec:1800}),d()(this,"_trace",{error:function(e){t.traceLevel>=E.Gu.ERROR&&t.traceListener("".concat(e),E.Gu.ERROR)},warn:function(e){t.traceLevel>=E.Gu.WARN&&t.traceListener("".concat(e),E.Gu.WARN)},info:function(e){t.traceLevel>=E.Gu.INFO&&t.traceListener("".concat(e),E.Gu.INFO)}}),d()(this,"options",{appkey:null,webSecretkey:null,userHash:null,appVersion:"default",isOptOut:!1,isIncludeUtm:!0,isIncludeNaver:!0,isIncludeReferrer:!0,isincludeGclid:!0,isIncludeGclid:!0,isIncludeFbclid:!0,isExecPageViewEvent:!0,supportUrlQueryKeys:[],shareSubdomainCookie:!0,transport:Z,traceLevel:$,traceListener:function(e,t){var r="[adbrix]";try{switch(t){case E.Gu.ERROR:console.error("".concat(r," ERROR: ").concat(e));break;case E.Gu.INFO:console.log("".concat(r," INFORMATION: ").concat(e));break;case E.Gu.WARN:console.warn("".concat(r," WARNING: ").concat(e));case E.Gu.DISABLE:}}catch(e){}},push:{enable:!1}})}return l()(e,[{key:"setOptions",value:function(e,t){if(e){var r=W(W({},this.options.push),e.push);this.options=Object.assign(this.options,e,{push:r}),this.trace.info("init adbrix sdk")}t&&(this.appLandingMetaInfo=t)}},{key:"sdkVersion",get:function(){return this.global.sdkVersion}},{key:"apiVersion",get:function(){return this.global.apiVersion}},{key:"sessionExpireSec",get:function(){return this.global.sessionExpireSec}},{key:"appkey",get:function(){return this.options.appkey}},{key:"webSecretkey",get:function(){return this.options.webSecretkey}},{key:"userHash",get:function(){return this.options.userHash},set:function(e){this.options.userHash=e}},{key:"appVersion",get:function(){return this.options.appVersion}},{key:"isOptOut",get:function(){return this.options.isOptOut}},{key:"isUtmParsing",get:function(){return this.options.isIncludeUtm}},{key:"isNaverParsing",get:function(){return this.options.isIncludeNaver}},{key:"isIncludeReferrer",get:function(){return this.options.isIncludeReferrer}},{key:"isIncludeGclid",get:function(){return this.options.isIncludeGclid&&this.options.isincludeGclid}},{key:"isIncludeFbclid",get:function(){return this.options.isIncludeFbclid}},{key:"isExecPageViewEvent",get:function(){return this.options.isExecPageViewEvent}},{key:"supportUrlQueryKeys",get:function(){return this.options.supportUrlQueryKeys}},{key:"shareSubdomainCookie",get:function(){return this.options.shareSubdomainCookie}},{key:"transport",get:function(){var e=Z;if("string"==typeof this.options.transport){var t=E.IB[this.options.transport];void 0!==t&&(e=t)}else"number"==typeof this.options.transport&&(e=this.options.transport);return e}},{key:"traceLevel",get:function(){var e=$;if("string"==typeof this.options.traceLevel){var t=E.Gu[this.options.traceLevel];void 0!==t&&(e=t)}else"number"==typeof this.options.traceLevel&&(e=this.options.traceLevel);return e}},{key:"trace",get:function(){return this._trace}},{key:"traceListener",get:function(){return this.options.traceListener},set:function(e){this.options.traceListener=e}}]),e}(),te=Object.values(E.ww),re=Object.values(E.Tl),ie=Object.values(E.dx),ne=Object.values(E.kG),ae=new(function(){function e(t){var r=this;s()(this,e),d()(this,"queue",[]),d()(this,"commerceAttr",{categories:function(e,t,i,n,a){if(r.beforeEach("commerceData.categories",e,t,i,n,a)){if(r._abxUtil.isNil(e))return r.abxOptions.trace.error("required category... '".concat(e,"'")),null;if(!r._abxUtil.isValidInputValueType("category",e,["string"]))return null;var o={"abx:category1":e};if(!r._abxUtil.isNil(t)){if(!r._abxUtil.isValidInputValueType("category2",t,["string"]))return null;o["abx:category2"]=t}if(!r._abxUtil.isNil(i)){if(!r._abxUtil.isValidInputValueType("category3",i,["string"]))return null;o["abx:category3"]=i}if(!r._abxUtil.isNil(n)){if(!r._abxUtil.isValidInputValueType("category4",n,["string"]))return null;o["abx:category4"]=n}if(!r._abxUtil.isNil(a)){if(!r._abxUtil.isValidInputValueType("category5",a,["string"]))return null;o["abx:category5"]=a}return o}},product:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,u=arguments.length>7?arguments[7]:void 0;if(r.beforeEach("commerceData.product",e,t,i,n,a,o,s,u)){if(!r._abxUtil.isValidInputValueType("price",i,["number"]))return null;if(!r._abxUtil.isValidInputValueType("quantity",n,["number"]))return null;if(!r._abxUtil.isValidInputValueType("discount",a,["number"]))return null;var l={"abx:item_id":C(),"abx:price":i,"abx:quantity":n,"abx:discount":a,"abx:sales":(i-a)*n};if(!r._abxUtil.isNil(e)){if(!r._abxUtil.isValidInputValueType("productId",e,["string","null"]))return null;l["abx:product_id"]=e}if(!r._abxUtil.isNil(t)){if(!r._abxUtil.isValidInputValueType("productName",t,["string","null"]))return null;l["abx:product_name"]=t}if(!r._abxUtil.isNil(o)){var c=re.some((function(e){return e===o}));if(r._abxUtil.isNil(c)||!c)return r.abxOptions.trace.error("Not a valid currency. Only '".concat(re.join(", "),"' are allowed.")),null;if(!r._abxUtil.isValidInputValueType("currency",o.toString(),["string"]))return null;l["abx:currency"]=o}if(!r._abxUtil.isNil(s)){if(!(0,E.n2)(s,"abx:category1"))return null;l=r._abxUtil.jsonMerge(l,s)}if(!r._abxUtil.isNil(u)){if(!r._abxUtil.isValidInputProperties(u))return r.abxOptions.trace.error("Not a valid '".concat(u,"'. Only JSON are allowed.")),null;if(!r._abxUtil.isValidInputPropertiesKeyValue(u))return null;l=r._abxUtil.jsonMerge(u,l)}return l}}}),d()(this,"userProperty",{get:function(e){var t=r._abxCore.getUserProperty();if(null==t)return null;var i=t[e.toLowerCase()];return r._abxUtil.isNil(i)?null:i},getAll:function(){return r._abxCore.getUserProperty()},addOrUpdate:function(e,t){if(r.beforeEach("userProperty.addOrUpdate",e,t)){if(!r._abxUtil.isValidInputKey(e))return;var i=e.toLowerCase();if("user_id"===i)return void r.abxOptions.trace.error("user_id value cannot be changed");if(r._abxUtil.isNil(t)||!r._abxUtil.isValidInputValue(t))return;r._abxCore.setUserProperty(i,t)}},remove:function(e){if(r.beforeEach("userProperty.remove",e)){if(!r._abxUtil.isValidInputKey(e))return;var t=e.toLowerCase();if("user_id"===t)return void r.abxOptions.trace.error("ERROR: user_id cannot. If you want to delete it, please logout method.");r._abxCore.removeUserProperty(t)}},removes:function(e){if(r.beforeEach("userProperty.removes",e)){if("array"!==r._abxUtil.getType(e))return void r.abxOptions.trace.error("Not a valid value. Only (array)");for(var t=e.map((function(e){return e.toLowerCase()})),i=0;i<t.length;i++){var n=t[i];if(!r._abxUtil.isValidInputKey(n))return;if("user_id"===n)return void r.abxOptions.trace.error("ERROR: user_id cannot. If you want to delete it, please logout method.")}r._abxCore.removesUserProperty(t)}}}),d()(this,"common",{signUp:function(e,t){if(r.beforeEach("common.signUp",e,t)){if(r._abxUtil.isNil(e))return r.abxOptions.trace.error("required signChannel... '".concat(e,"'")),!1;var i=te.some((function(t){return t===e}));if(r._abxUtil.isNil(i)||!i)return r.abxOptions.trace.error("Not a valid signChannel. Only '".concat(te.join(", "),"' are allowed.")),!1;if(!r._abxUtil.isValidInputValueType("signChannel",e.toString(),["string"]))return!1;var n={"abx:sign_channel":e.toString()};if(!r._abxUtil.isNil(t)){if(!r._abxUtil.isValidInputProperties(t))return r.abxOptions.trace.error("Not a valid '".concat(t,"'. Only JSON are allowed.")),!1;if(!r._abxUtil.isValidInputPropertiesKeyValue(t))return!1;n=r._abxUtil.jsonMerge(t,n)}return r._abxCore.sendEvent("sign_up",n,!0)}},invite:function(e,t,i){if(r.beforeEach("common.invite",e,t,i)){if(r._abxUtil.isNil(e))return r.abxOptions.trace.error("required inviteChannel... '".concat(e,"'")),!1;var n=te.some((function(t){return t===e}));if(!r._abxUtil.isValidInputValueType("inviteChannel",e.toString(),["string"])||!n)return r.abxOptions.trace.error("Not a valid inviteChannel. Only '".concat(te.join(", "),"' are allowed.")),!1;if(r._abxUtil.isNil(t))return r.abxOptions.trace.error("required userId... '".concat(t,"'")),!1;if(!r._abxUtil.isValidInputValueType("userId",t,["string","number"]))return!1;if(""===t)return r.abxOptions.trace.error("The key must have a userId of at least 1 character."),!1;var a={"abx:invite_channel":e.toString(),user_id:t};if(!r._abxUtil.isNil(i)){if(!r._abxUtil.isValidInputProperties(i))return r.abxOptions.trace.error("Not a valid '".concat(i,"'. Only JSON are allowed.")),!1;if(!r._abxUtil.isValidInputPropertiesKeyValue(i))return!1;a=r._abxUtil.jsonMerge(i,a)}return r._abxCore.sendEvent("invite",a,!0)}},useCredit:function(e,t){if(r.beforeEach("common.useCredit",e,t)){if(r._abxUtil.isNil(e))return r.abxOptions.trace.error("required credit... '".concat(e,"'")),!1;if(!r._abxUtil.isValidInputValueType("credit",e,["number"]))return!1;var i={credit:e};if(!r._abxUtil.isNil(t)){if(!r._abxUtil.isValidInputProperties(t))return r.abxOptions.trace.error("Not a valid '".concat(t,"'. Only JSON are allowed.")),!1;if(!r._abxUtil.isValidInputPropertiesKeyValue(t))return!1;i=r._abxUtil.jsonMerge(t,i)}return r._abxCore.sendEvent("use_credit",i,!0)}},purchase:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,s=arguments.length>6?arguments[6]:void 0;if(r.beforeEach("common.purchase",e,t,i,n,a,o,s)){if(!r._abxUtil.isValidInputValueType("orderSales",i,["number"]))return null;if(!r._abxUtil.isValidInputValueType("discount",n,["number"]))return null;if(!r._abxUtil.isValidInputValueType("deliveryCharge",a,["number"]))return null;var u={"abx:order_sales":i,"abx:discount":n,"abx:delivery_charge":a};if(!r._abxUtil.isNil(e)){if(!r._abxUtil.isValidInputValueType("orderId",e,["string","null"]))return!1;u["abx:order_id"]=e}if(!r._abxUtil.isNil(o)){var l=ie.some((function(e){return e===o}));if(r._abxUtil.isNil(l)||!l)return r.abxOptions.trace.error("Not a valid paymentMethod. Only '".concat(ie.join(", "),"' are allowed.")),!1;if(!r._abxUtil.isValidInputValueType("paymentMethod",o.toString(),["string"]))return!1;u["abx:payment_method"]=o}if(!r._abxUtil.isNil(t)){for(var c=0;c<t.length;c++){var d=t[c];if(!(0,E.n2)(d,"abx:item_id"))return r.abxOptions.trace.error("required product[".concat(c,"] abx:item_id")),!1}u["abx:items"]=t}if(!r._abxUtil.isNil(s)){if(!r._abxUtil.isValidInputProperties(s))return r.abxOptions.trace.error("Not a valid '".concat(s,"'. Only JSON are allowed.")),!1;if(!r._abxUtil.isValidInputPropertiesKeyValue(s))return!1;u=r._abxUtil.jsonMerge(s,u)}return r._abxCore.sendEvent("purchase",u,!0)}}}),d()(this,"commerce",{viewHome:function(){if(r.beforeEach("commerce.viewHome"))return r._abxCore.sendEvent("view_home",{},!0)},categoryView:function(e,t,i){if(r.beforeEach("commerce.categoryView",e,t,i)){if(r._abxUtil.isNil(e))return r.abxOptions.trace.error("required categories... '".concat(e,"'")),!1;if(!(0,E.n2)(e,"abx:category1"))return r.abxOptions.trace.error("Only category instances are possible. '".concat(e,"'")),!1;if(r._abxUtil.isNil(t))return r.abxOptions.trace.error("required products... '".concat(t,"'")),!1;if(!r._abxUtil.isValidInputValueType("products",t,["array"]))return!1;var n={};if(!r._abxUtil.isNil(e)){if(!(0,E.n2)(e,"abx:category1"))return!1;n=r._abxUtil.jsonMerge(n,e)}if(!r._abxUtil.isNil(t)){for(var a=0;a<t.length;a++){var o=t[a];if(!(0,E.n2)(o,"abx:item_id"))return r.abxOptions.trace.error("required product[".concat(a,"] abx:item_id")),!1}n["abx:items"]=t}if(!r._abxUtil.isNil(i)){if(!r._abxUtil.isValidInputProperties(i))return r.abxOptions.trace.error("Not a valid '".concat(i,"'. Only JSON are allowed.")),!1;if(!r._abxUtil.isValidInputPropertiesKeyValue(i))return!1;n=r._abxUtil.jsonMerge(i,n)}return r._abxCore.sendEvent("category_view",n,!0)}},productView:function(e,t){if(r.beforeEach("commerce.productView",e,t)){if(r._abxUtil.isNil(e))return r.abxOptions.trace.error("required product... '".concat(e,"'")),!1;var i={};if(!r._abxUtil.isNil(e)){if(!(0,E.n2)(e,"abx:item_id"))return r.abxOptions.trace.error("required product abx:item_id"),!1;var n=[];n.push(e),i["abx:items"]=n}if(!r._abxUtil.isNil(t)){if(!r._abxUtil.isValidInputProperties(t))return r.abxOptions.trace.error("Not a valid '".concat(t,"'. Only JSON are allowed.")),!1;if(!r._abxUtil.isValidInputPropertiesKeyValue(t))return!1;i=r._abxUtil.jsonMerge(t,i)}return r._abxCore.sendEvent("product_view",i,!0)}},addToCart:function(e,t){if(r.beforeEach("commerce.addToCart",e,t)){if(r._abxUtil.isNil(e))return r.abxOptions.trace.error("required products... '".concat(e,"'")),!1;if(!r._abxUtil.isValidInputValueType("products",e,["array"]))return!1;var i={};if(!r._abxUtil.isNil(e)){for(var n=0;n<e.length;n++){var a=e[n];if(!(0,E.n2)(a,"abx:item_id"))return r.abxOptions.trace.error("required product[".concat(n,"] abx:item_id")),!1}i["abx:items"]=e}if(!r._abxUtil.isNil(t)){if(!r._abxUtil.isValidInputProperties(t))return r.abxOptions.trace.error("Not a valid '".concat(t,"'. Only JSON are allowed.")),!1;if(!r._abxUtil.isValidInputPropertiesKeyValue(t))return!1;i=r._abxUtil.jsonMerge(t,i)}return r._abxCore.sendEvent("add_to_cart",i,!0)}},addToWishList:function(e,t){if(r.beforeEach("commerce.addToWishList",e,t)){if(r._abxUtil.isNil(e))return r.abxOptions.trace.error("required product... '".concat(e,"'")),!1;var i={};if(!r._abxUtil.isNil(e)){if(!(0,E.n2)(e,"abx:item_id"))return r.abxOptions.trace.error("required product abx:item_id"),!1;var n=[];n.push(e),i["abx:items"]=n}if(!r._abxUtil.isNil(t)){if(!r._abxUtil.isValidInputProperties(t))return r.abxOptions.trace.error("Not a valid '".concat(t,"'. Only JSON are allowed.")),!1;if(!r._abxUtil.isValidInputPropertiesKeyValue(t))return!1;i=r._abxUtil.jsonMerge(t,i)}return r._abxCore.sendEvent("add_to_wishlist",i,!0)}},reviewOrder:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a=arguments.length>4?arguments[4]:void 0;if(r.beforeEach("commerce.reviewOrder",e,t,i,n,a)){if(r._abxUtil.isNil(t))return r.abxOptions.trace.error("required products... '".concat(t,"'")),!1;if(!r._abxUtil.isValidInputValueType("products",t,["array"]))return!1;if(!r._abxUtil.isValidInputValueType("discount",i,["number"]))return!1;if(!r._abxUtil.isValidInputValueType("deliveryCharge",n,["number"]))return!1;var o={"abx:discount":i,"abx:delivery_charge":n};if(!r._abxUtil.isNil(e)){if(!r._abxUtil.isValidInputValueType("orderId",e,["string","null"]))return!1;o["abx:order_id"]=e}if(!r._abxUtil.isNil(t)){for(var s=0;s<t.length;s++){var u=t[s];if(!(0,E.n2)(u,"abx:item_id"))return r.abxOptions.trace.error("required product[".concat(s,"] abx:item_id")),!1}o["abx:items"]=t}if(!r._abxUtil.isNil(a)){if(!r._abxUtil.isValidInputProperties(a))return r.abxOptions.trace.error("Not a valid '".concat(a,"'. Only JSON are allowed.")),!1;if(!r._abxUtil.isValidInputPropertiesKeyValue(a))return!1;o=r._abxUtil.jsonMerge(a,o)}return r._abxCore.sendEvent("review_order",o,!0)}},refund:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3?arguments[3]:void 0;if(r.beforeEach("commerce.refund",e,t,i,n)){if(r._abxUtil.isNil(t))return r.abxOptions.trace.error("required products... '".concat(t,"'")),!1;if(!r._abxUtil.isValidInputValueType("products",t,["array"]))return!1;if(!r._abxUtil.isValidInputValueType("penaltyCharge",i,["number"]))return!1;var a={"abx:penalty_charge":i};if(!r._abxUtil.isNil(e)){if(!r._abxUtil.isValidInputValueType("orderId",e,["string","null"]))return!1;a["abx:order_id"]=e}if(!r._abxUtil.isNil(t)){for(var o=0;o<t.length;o++){var s=t[o];if(!(0,E.n2)(s,"abx:item_id"))return r.abxOptions.trace.error("required product[".concat(o,"] abx:item_id")),!1}a["abx:items"]=t}if(!r._abxUtil.isNil(n)){if(!r._abxUtil.isValidInputProperties(n))return r.abxOptions.trace.error("Not a valid '".concat(n,"'. Only JSON are allowed.")),!1;if(!r._abxUtil.isValidInputPropertiesKeyValue(n))return!1;a=r._abxUtil.jsonMerge(n,a)}return r._abxCore.sendEvent("refund",a,!0)}},search:function(e,t,i){if(r.beforeEach("commerce.search",e,t,i)){if(r._abxUtil.isNil(e))return r.abxOptions.trace.error("required keyword... '".concat(e,"'")),!1;if(!r._abxUtil.isValidInputValueType("keyword",e,["string"]))return!1;if(!r._abxUtil.isValidInputValueType("products",t,["array"]))return!1;var n={"abx:keyword":e};if(!r._abxUtil.isNil(t)){for(var a=0;a<t.length;a++){var o=t[a];if(!(0,E.n2)(o,"abx:item_id"))return r.abxOptions.trace.error("required product[".concat(a,"] abx:item_id")),!1}n["abx:items"]=t}if(!r._abxUtil.isNil(i)){if(!r._abxUtil.isValidInputProperties(i))return r.abxOptions.trace.error("Not a valid '".concat(i,"'. Only JSON are allowed.")),!1;if(!r._abxUtil.isValidInputPropertiesKeyValue(i))return!1;n=r._abxUtil.jsonMerge(i,n)}return r._abxCore.sendEvent("search",n,!0)}},share:function(e,t,i){if(r.beforeEach("commerce.share",e,t,i)){if(r._abxUtil.isNil(e))return r.abxOptions.trace.error("required sharingChannel... '".concat(e,"'")),!1;var n=ne.some((function(t){return t===e}));if(r._abxUtil.isNil(n)||!n)return r.abxOptions.trace.error("Not a valid sharingChannel. Only '".concat(ne.join(", "),"' are allowed.")),!1;if(!r._abxUtil.isValidInputValueType("sharingChannel",e.toString(),["string"]))return!1;if(!r._abxUtil.isValidInputValueType("products",t,["array"]))return!1;var a={"abx:sharing_channel":e};if(!r._abxUtil.isNil(t)){for(var o=0;o<t.length;o++){var s=t[o];if(!(0,E.n2)(s,"abx:item_id"))return r.abxOptions.trace.error("required product[".concat(o,"] abx:item_id")),!1}a["abx:items"]=t}if(!r._abxUtil.isNil(i)){if(!r._abxUtil.isValidInputProperties(i))return r.abxOptions.trace.error("Not a valid '".concat(i,"'. Only JSON are allowed.")),!1;if(!r._abxUtil.isValidInputPropertiesKeyValue(i))return!1;a=r._abxUtil.jsonMerge(i,a)}return r._abxCore.sendEvent("share",a,!0)}},listView:function(e,t){if(r.beforeEach("commerce.listView",e,t)){if(r._abxUtil.isNil(e))return r.abxOptions.trace.error("required products... '".concat(e,"'")),!1;if(!r._abxUtil.isValidInputValueType("products",e,["array"]))return!1;var i={};if(!r._abxUtil.isNil(e)){for(var n=0;n<e.length;n++){var a=e[n];if(!(0,E.n2)(a,"abx:item_id"))return r.abxOptions.trace.error("required product[".concat(n,"] abx:item_id")),!1}i["abx:items"]=e}if(!r._abxUtil.isNil(t)){if(!r._abxUtil.isValidInputProperties(t))return r.abxOptions.trace.error("Not a valid '".concat(t,"'. Only JSON are allowed.")),!1;if(!r._abxUtil.isValidInputPropertiesKeyValue(t))return!1;i=r._abxUtil.jsonMerge(t,i)}return r._abxCore.sendEvent("list_view",i,!0)}},cartView:function(e,t){if(r.beforeEach("commerce.cartView",e,t)){if(r._abxUtil.isNil(e))return r.abxOptions.trace.error("required products... '".concat(e,"'")),!1;if(!r._abxUtil.isValidInputValueType("products",e,["array"]))return!1;var i={};if(!r._abxUtil.isNil(e)){for(var n=0;n<e.length;n++){var a=e[n];if(!(0,E.n2)(a,"abx:item_id"))return r.abxOptions.trace.error("required product[".concat(n,"] abx:item_id")),!1}i["abx:items"]=e}if(!r._abxUtil.isNil(t)){if(!r._abxUtil.isValidInputProperties(t))return r.abxOptions.trace.error("Not a valid '".concat(t,"'. Only JSON are allowed.")),!1;if(!r._abxUtil.isValidInputPropertiesKeyValue(t))return!1;i=r._abxUtil.jsonMerge(t,i)}return r._abxCore.sendEvent("cart_view",i,!0)}},paymentInfoAdded:function(e){if(r.beforeEach("commerce.paymentInfoAdded",e)){var t={};if(!r._abxUtil.isNil(e)){if(!r._abxUtil.isValidInputProperties(e))return r.abxOptions.trace.error("Not a valid '".concat(e,"'. Only JSON are allowed.")),!1;if(!r._abxUtil.isValidInputPropertiesKeyValue(e))return!1;t=r._abxUtil.jsonMerge(e,t)}return r._abxCore.sendEvent("paymentinfo_added",t,!0)}}}),d()(this,"game",{tutorialComplete:function(e,t){if(r.beforeEach("game.tutorialComplete",e,t)){var i={};if(r._abxUtil.isNil(e))return r.abxOptions.trace.error("required isSkip... '".concat(e,"'")),!1;if(!r._abxUtil.isValidInputValueType("isSkip",e,["boolean"]))return!1;if(i["abx:is_skip"]=e,!r._abxUtil.isNil(t)){if(!r._abxUtil.isValidInputProperties(t))return r.abxOptions.trace.error("Not a valid '".concat(t,"'. Only JSON are allowed.")),!1;if(!r._abxUtil.isValidInputPropertiesKeyValue(t))return!1;i=r._abxUtil.jsonMerge(t,i)}return r._abxCore.sendEvent("tutorial_completed",i,!0)}},characterCreated:function(e){if(r.beforeEach("game.characterCreated",e)){var t={};if(!r._abxUtil.isNil(e)){if(!r._abxUtil.isValidInputProperties(e))return r.abxOptions.trace.error("Not a valid '".concat(e,"'. Only JSON are allowed.")),!1;if(!r._abxUtil.isValidInputPropertiesKeyValue(e))return!1;t=r._abxUtil.jsonMerge(e,t)}return r._abxCore.sendEvent("character_created",t,!0)}},stageCleared:function(e,t){if(r.beforeEach("game.stageCleared",e,t)){var i={};if(r._abxUtil.isNil(e))return r.abxOptions.trace.error("required stageName... '".concat(e,"'")),!1;if(!r._abxUtil.isValidInputValueType("stageName",e,["string"]))return!1;if(i["abx:stage"]=e,!r._abxUtil.isNil(t)){if(!r._abxUtil.isValidInputProperties(t))return r.abxOptions.trace.error("Not a valid '".concat(t,"'. Only JSON are allowed.")),!1;if(!r._abxUtil.isValidInputPropertiesKeyValue(t))return!1;i=r._abxUtil.jsonMerge(t,i)}return r._abxCore.sendEvent("stage_cleared",i,!0)}},levelAchieved:function(e,t){if(r.beforeEach("game.levelAchieved",e,t)){var i={};if(r._abxUtil.isNil(e))return r.abxOptions.trace.error("required level... '".concat(e,"'")),!1;if(!r._abxUtil.isValidInputValueType("level",e,["number"]))return!1;if(i["abx:level"]=e,!r._abxUtil.isNil(t)){if(!r._abxUtil.isValidInputProperties(t))return r.abxOptions.trace.error("Not a valid '".concat(t,"'. Only JSON are allowed.")),!1;if(!r._abxUtil.isValidInputPropertiesKeyValue(t))return!1;i=r._abxUtil.jsonMerge(t,i)}return r._abxCore.sendEvent("level_achieved",i,!0)}}}),d()(this,"event",{send:function(e,t){if(r.beforeEach("event.send",e,t)){if(r._abxUtil.isNil(e))return r.abxOptions.trace.error("required key... '".concat(e,"'")),!1;if(!r._abxUtil.isValidInputKey(e))return!1;var i=e.toLowerCase(),n=null;if(!r._abxUtil.isNil(t)){if(!r._abxUtil.isValidInputProperties(t))return r.abxOptions.trace.error("Not a valid '".concat(t,"'. Only JSON are allowed.")),!1;if(!r._abxUtil.isValidInputPropertiesKeyValue(t))return!1;n=t}return r._abxCore.sendEvent(i,n,!1,!1)}}}),d()(this,"debug",{traceListener:function(e){return r._abxCore.traceListener=e}}),d()(this,"push",{isPushEnabled:function(){return new Promise((function(e){document.addEventListener("pushInitialized",(function(){return e(r.push.isPushEnabled())}),{once:!0})}))},isPushSupported:function(){return new Promise((function(e){document.addEventListener("pushInitialized",(function(){return e(r.push.isPushSupported())}),{once:!0})}))},showPrompt:function(){return new Promise((function(e){document.addEventListener("pushInitialized",(function(){return e(r.push.showPrompt())}),{once:!0})}))},showNativePrompt:function(){return new Promise((function(e){document.addEventListener("pushInitialized",(function(){return e(r.push.showNativePrompt())}),{once:!0})}))},showLocalNotification:function(e,t){return new Promise((function(i){document.addEventListener("pushInitialized",(function(){return i(r.push.showLocalNotification(e,t))}),{once:!0})}))},getNotificationPermission:function(){return new Promise((function(e){document.addEventListener("pushInitialized",(function(){return e(r.push.getNotificationPermission())}),{once:!0})}))}}),this.abxOptions=new ee,this._abxCore=new Y(this.abxOptions),this._abxUtil=new N(this.abxOptions),""!==k()?this.setQueue(t):this.abxOptions.trace.error("There is no host name. Please run it in a web server environment.")}var r,a;return l()(e,[{key:"setQueue",value:function(e){null!=e&&"array"===this._abxUtil.getType(e)&&(this.queue=e.slice())}},{key:"_cleanQueue",value:function(){this.queue=[]}},{key:"runQueuedFunctions",value:function(){var e=this;return new Promise((function(t,r){0===e.queue.length&&t();var i=e.queue.filter((function(e){return"init"===e[0]}));i.length>1&&r(Error("Please execute the initialization function only once.")),0===i.length&&e.queue.length>0&&(e.abxOptions.trace.warn("After calling init, call the function."),t()),e.invoke(i[0]).then((function(){e.queue.filter((function(e){return i.every((function(t){return t!==e}))})).forEach((function(t){return e.invoke(t)})),e._cleanQueue(),t()})).catch((function(e){r(e)}))})).catch((function(t){return e.abxOptions.trace.error("".concat(t.message)),Promise.reject(t)}))}},{key:"invoke",value:(a=i()(t().mark((function e(r){var i,n,a,o,s,u;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=this,n=r[0],"string"===this._abxUtil.getType(n)){e.next=4;break}return e.abrupt("return",!1);case 4:if(a=r[1],["arguments","array"].includes(this._abxUtil.getType(a))||(a=[a]),o=n.split("."),s=o.pop(),!o.includes("push")){e.next=12;break}if(this.enablePush){e.next=12;break}return this.abxOptions.trace.error("Push is not enabled in init options"),e.abrupt("return",!1);case 12:return u=o.reduce((function(e,t){return e[t]=e[t]||{}}),i)[s],e.abrupt("return",u.apply(this,a));case 14:case"end":return e.stop()}}),e,this)}))),function(e){return a.apply(this,arguments)})},{key:"beforeEach",value:function(e){if(this._abxCore.isInitializing){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];return this.queue.push([e,r]),!1}return!!this._abxCore.isInitialized||(this.abxOptions.trace.error("Please execute initialization function first."),!1)}},{key:"init",value:(r=i()(t().mark((function e(r){var i,a,o,s;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._abxCore.isInitialized){e.next=2;break}return e.abrupt("return",Promise.reject(Error("It has already been initialized.")));case 2:if(this._abxCore.isInitializing){e.next=15;break}return e.next=5,this._abxCore.init(r);case 5:if(a=e.sent,this.enablePush=null===(i=r.push)||void 0===i?void 0:i.enable,!this.enablePush){e.next=14;break}return e.next=10,n.e(902).then(n.bind(n,984));case 10:return o=e.sent,s=o.AdbrixPush,e.next=14,s.init(a,r.push,this);case 14:return e.abrupt("return",a);case 15:return e.abrupt("return",Promise.reject(Error("The initialization function is running.")));case 16:case"end":return e.stop()}}),e,this)}))),function(e){return r.apply(this,arguments)})},{key:"onInitialized",value:function(e){this.beforeEach("onInitialized",e)&&"function"===this._abxUtil.getType(e)&&e()}},{key:"getAbxCore",value:function(){return this._abxCore}},{key:"login",value:function(e){if(this.beforeEach("login",e)){if(this._abxUtil.isNil(e)||!this._abxUtil.isValidInputValueType("userId",e,["string","number"]))return;if(""===e)return void this.abxOptions.trace.error("The userId must have a value of at least 1 character.");this._abxCore.userHash=e}}},{key:"getUserId",value:function(){return this._abxCore.userHash}},{key:"getDeviceId",value:function(){return this._abxCore.deviceId}},{key:"logout",value:function(){this.beforeEach("logout")&&(this._abxCore.userHash=null)}},{key:"setPublicPushAPI",value:function(e){this.push=e}},{key:"isInitialized",get:function(){return this._abxCore.isInitialized}}]),e}())(window&&window.adbrix&&window.adbrix.queue||[])})(),a})()));