(function(){var c=window.sg.common.$q,h=window.sg.common.swiperManager,l=window.sg.common.utils,m=window.sg.common.video,n=null,e=function(a){this.ele={window:c(window),section:c(a),btn:null,list:null};this.setProperty();this.eventOutClick=this.OutClick.bind(this);e.instances.set(a,this);this.init()};e.prototype.setProperty=function(){this.ele.btn=this.ele.section.find(".st-feature-benefit__dropdown-select");this.ele.list=this.ele.section.find(".st-feature-benefit__dropdown-item")};e.prototype.init=
function(){this.bindEvents()};e.prototype.reInit=function(){this.setProperty();this.bindEvents()};e.prototype.bindEvents=function(){var a=this;this.ele.btn.off("click").on("click",function(){a.ele.section.hasClass("active")?a.close():a.open()})};e.prototype.OutClick=function(a){0>=c(a.target).closest(this.ele.section.target[0]).target.length&&this.close()};e.prototype.open=function(){this.ele.section.addClass("active");this.ele.btn.attr("aria-expanded",!0);this.ele.window.on("click",this.eventOutClick)};
e.prototype.close=function(){this.ele.section.removeClass("active");this.ele.btn.attr("aria-expanded",!1);this.ele.window.off("click",this.eventOutClick)};e.makeInstance=function(){void 0===e.instance&&(e.instances=new WeakMap);c(".st-feature-benefit .st-feature-benefit__dropdown").target.forEach(function(a){e.instances.has(a)?e.instances.get(a).reInit():new e(a)})};var f=function(){this.ele={window:c(window),section:null,img:null};this.setProperty();this.winHeight=l.getViewPort().height;this.init()};
f.prototype.setProperty=function(){this.ele.section=c(".st-feature-benefit .s-scroll-img");this.ele.img=this.ele.section.find(".image")};f.prototype.init=function(){this.bindEvents();this.setClass()};f.prototype.reInit=function(){this.setProperty();this.setClass()};f.prototype.bindEvents=function(){var a=this;this.ele.window.on("scroll",function(){a.setClass()});this.ele.window.on("resize",function(){a.winHeight=l.getViewPort().height})};f.prototype.setClass=function(){var a=this;this.ele.img.target.forEach(function(d){var k=
d.getBoundingClientRect();0<k.bottom&&k.top+.5*k.height<a.winHeight?d.classList.contains("s-move-img")||d.classList.add("s-move-img"):d.classList.contains("s-move-img")&&(0>k.bottom||k.top>a.winHeight)&&d.classList.remove("s-move-img")})};f.makeInstance=function(){void 0===f.instance?f.instance=new f:f.instance.reInit()};var b=function(a){this.selector={videoOpen:".st-feature-benefit__btn-play",videoClose:".video-close",videoJS:"div.video"};this.ele={btnOpen:c(a),popup:null,btnClose:null,videoJS:null};
this.setProperty();b.instances.set(a,this);this.init()};b.prototype.setProperty=function(){this.ele.popup=c("#"+this.ele.btnOpen.attr("data-div-id"));this.ele.btnClose=this.ele.popup.find(this.selector.videoClose);this.ele.videoJS=this.ele.popup.find(this.selector.videoJS).target[0]};b.prototype.init=function(){this.bindEvents()};b.prototype.reInit=function(){this.setProperty();this.bindEvents()};b.prototype.bindEvents=function(){var a=this;this.ele.btnOpen.off("click").on("click",function(){a.openPop()});
this.ele.btnClose.off("click").on("click",function(){a.closePop()})};b.prototype.openPop=function(){this.ele.popup.css({display:"block"});this.ele.popup.focus();var a=this.ele.popup.closest(".st-feature-benefit");a.hasClass("st-feature-benefit--video-layer")&&l.hiddenScroll();a.addClass("s-video-on");m.init(this.ele.videoJS)};b.prototype.closePop=function(a){a=void 0===a?!0:a;"block"===this.ele.popup.css("display")&&(this.ele.popup.css({display:""}),a&&this.ele.btnOpen.focus(),a=this.ele.popup.closest(".st-feature-benefit"),
a.hasClass("st-feature-benefit--video-layer")&&l.visibleScroll(),a.removeClass("s-video-on"),m.dispose(this.ele.videoJS))};b.callClosePop=function(a){b.instances.has(a)&&b.instances.get(a).closePop()};b.makeInstance=function(){void 0===b.instance&&(b.instances=new WeakMap);c(".st-feature-benefit .st-feature-benefit__btn-play").target.forEach(function(a){b.instances.has(a)?b.instances.get(a).reInit():new b(a)})};var g=function(a){var d=this;this.selector={prev:".swiper-button-prev",next:".swiper-button-next",
active:".swiper-slide-active",img:".st-feature-benefit__img-wrap",text:".st-feature-benefit__text-wrap"};this.el={swiper:c(a),prev:null,next:null};this.swiper=null;this.handler={resize:function(){if(d.el.prev.target.length&&d.el.next.target.length){var a=d.el.swiper.find(d.selector.active);var b=a.find(d.selector.img),c=a.find(d.selector.text);a.target.length&&(a=0<b.target.length?-a.offset().top+b.offset().top+b.height()/2:-a.offset().top+c.offset().top+c.outerHeight()/2+d.el.prev.height()/2,d.swiper.params&&
(d.swiper.params.autoHeight||(a=d.el.swiper.closest(".st-feature-benefit__inner").height()/2),d.el.prev.css({top:a+"px"}),d.el.next.css({top:a+"px"})))}},imageLoaded:function(a){c(a.target).off("load",d.handler.imageLoaded);d.handler.resize()}};g.instances.set(a,this);this.init()};g.prototype.init=function(){this.setProperty();this.bindEvents()};g.prototype.reInit=function(){this.setProperty();this.bindEvents()};g.prototype.bindEvents=function(){var a=this;n.off("resize",this.handler.resize).on("resize",
this.handler.resize);this.el.swiper.find(".image \x3e .image__main").off("load",this.handler.imageLoaded).on("load",this.handler.imageLoaded);var d=this.el.swiper.closest(".st-feature-benefit").find(".st-feature-benefit__disclaimer-wrap .st-feature-benefit__disclaimer");h.slideChangeTransitionEnd(this.el.swiper.target[0],function(b,c){d.removeClass("js-disc-active");d.eq(c).addClass("js-disc-active");a.handler.resize()});h.slideChange(this.el.swiper.target[0],function(a){b.callClosePop(c(a.slides[a.previousIndex]).find(".st-feature-benefit__btn-play").target[0])})};
g.prototype.setProperty=function(){this.swiper=h.getSwiper(this.el.swiper.target[0]);this.el.prev=this.el.swiper.find(this.selector.prev);this.el.next=this.el.swiper.find(this.selector.next)};g.instances=new WeakMap;var p=function(){n=c(window);c(".st-feature-benefit .st-feature-benefit__swiper").target.forEach(function(a){new g(a)});f.makeInstance();b.makeInstance();e.makeInstance()};c.ready(p);window.sg.components.featureBenefit={init:p,reInit:function(){c(".st-feature-benefit");c(".st-feature-benefit .st-feature-benefit__swiper").target.forEach(function(a){c(a).height()&&
(g.instances.has(a)?(h.slideReInit(a),g.instances.get(a).reInit()):(h.slideInit(a),new g(a)))});window.sg.common.image.initAll();f.makeInstance();b.makeInstance();e.makeInstance()}}})();