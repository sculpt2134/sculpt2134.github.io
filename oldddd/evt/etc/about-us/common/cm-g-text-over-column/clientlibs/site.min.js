(function(){var d=window.sg.common.$q,m=window.sg.common.utils,n=window.sg.common.lazyLoad,k=window.sg.common.swiperManager,p=null,f=function(c){var a=this;f.instances.set(c,this);this.timeID=0;this.pcCheck=this.mobileFlag=this.desktopFlag=!1;this.handler={timeoutResize:function(){if("mobile"!==m.getCurrentDevice()){a.mobileCheck=!1;a.component.hasClass("text-over-column--2columns")?a.column=2:a.component.hasClass("text-over-column--3columns")?a.column=3:a.component.hasClass("text-over-column--4columns")?
a.column=4:a.component.hasClass("text-over-column--5columns")&&(a.column=5);var b=a.component.find(".is-item-active");b.target.length<a.column&&0<b.target.length&&a.component.find(".text-over-column__item").target.forEach(function(e,c){e=d(e);c<a.column&&(e.addClass("is-item-active"),e.addClass("is-item-visible"))});a.pcCheck||(a.pcCheck=!0,a.component.find(".text-over-column__item").target.forEach(function(a){d(a).find(".text-over-column__card").hasClass("text-over-column--type-fold")&&d(a).find(".text-over-column__card-inner").attr("tabindex",
0)}))}else a.pcCheck=!1,a.mobileCheck||(b=a.component.find(".swiper-container"),b.target.length&&k.getSwiper(b.target[0])&&k.slideReInit(b.target[0]),a.component.find(".text-over-column__item").target.forEach(function(a){d(a).find(".text-over-column__card").hasClass("text-over-column--type-fold")&&d(a).attr("aria-hidden","true")&&d(a).find(".text-over-column__card-inner").attr("tabindex",-1)}),a.mobileCheck=!0),a.component.hasClass("text-over-column--1columns-mobile")?a.column=1:a.component.hasClass("text-over-column--2columns-mobile")&&
(a.column=2),a.component.hasClass("text-over-column--mobile-slide")&&(a.column=1);var g=0,c=[];b=a.component.find(".text-over-column__inner .text-over-column__card-inner");b.css({"pointer-events":""});var f=b.target.length-1;b.target.forEach(function(e,b){var h=b%a.column;e=d(e).find(".text-over-column__inner .text-over-column__headline");e.css({"min-height":""});0===h&&(g=0,c=[]);g<e.outerHeight()&&(g=e.outerHeight());c.push(e);h!==a.column-1&&b!==f||c.forEach(function(a){a.css({"min-height":g+"px"})})});
b.target.forEach(function(e,b){var h=b%a.column;e=d(e).find(".text-over-column__content");e.css({"min-height":""});0===h&&(g=0,c=[]);g<e.outerHeight()&&(g=e.outerHeight());c.push(e);h!==a.column-1&&b!==f||c.forEach(function(a){a.css({"min-height":g+"px"})})});g=0;c=[];b.target.forEach(function(b,l){var e=l%a.column;b=d(b);b.css({"min-height":""});0===e&&(g=0,c=[]);g<b.outerHeight()&&(g=b.outerHeight());c.push(b);e!==a.column-1&&l!==f||c.forEach(function(a){a.css({"min-height":g+"px"})})});b.css({"pointer-events":"auto"})},
resize:function(){clearTimeout(a.timeID);a.timeID=setTimeout(function(){a.handler.timeoutResize()},100)},imageLoad:function(a){var b=d(a.target);b.off("load");setTimeout(function(){b.closest(".text-over-column__item").css({"pointer-events":"auto"})},400)},clickCtaButton:function(a){var b=d(null);if("string"===typeof a.currentTarget.dataset.targetPopupId){var c=a.currentTarget.dataset.targetPopupId.trim().replace("#","");""!==c&&(b=d("#"+c))}b.hasClass("pr-g-j2a-converter")?window.sg.components.prGj2aCover.openPopup(b.target[0],
a.currentTarget):b.css({display:"block",overflow:"hidden"})}};this.component=d(c);this.window=d(window);this.column=0;this.mobileCheck=!1;this.desktop=this.component.attr("data-desktop-per-page");this.mobile=this.component.attr("data-mobile-per-page");this.init();this.bindEvents()};f.prototype.reInit=function(){"mobile"!==m.getCurrentDevice()&&(this.mobileCheck=!1);this.init();this.bindEvents()};f.prototype.init=function(){this.handler.resize()};f.prototype.bindEvents=function(){var c=this;n.initAll();
this.window.on("resize",this.handler.resize);this.component.find(".image \x3e .image__main:not(.image--loaded)").on("load",this.handler.imageLoad);this.component.find(".image \x3e .image__main.image--loaded").closest(".text-over-column__item").css({"pointer-events":"auto"});var a=1,b=this.component.find(".text-over-column__cta-wrap a");b.on("click",function(){var g="desktop"===m.getCurrentDevice()?c.desktop:c.mobile,f=c.component.find(".text-over-column__item"),k=c.component.find(".text-over-column__item.is-item-active"),
e=0;f.target.forEach(function(b,c){var f=d(b);c<g*a&&(f.addClass("is-item-visible"),f.css({"transition-delay":e/10+"s"}),setTimeout(function(){f.addClass("is-item-active")},10),e++)});var l=f.target[k.target.length],h=d(l).find("a").target[0];1<a&&setTimeout(function(){h?h.focus():(d(l).find(".text-over-column__card-inner").attr("tabindex",0).focus(),0>=d(l).find(".text-over-column--type-fold").target.length&&setTimeout(function(){d(l).find(".text-over-column__card-inner").removeAttr("tabindex")},
5E3))},500);n.setLazyLoad();f.target.length<=a*g&&b.hide();a+=1;c.handler.resize()});0>=this.component.find(".text-over-column__item.is-item-active").target.length&&b.trigger("click");this.component.find(".text-over-column__card-inner[data-target-popup-id]").target.forEach(function(a){d(a).off("click",c.handler.clickCtaButton).on("click",c.handler.clickCtaButton)});this.component.find(".text-over-column__item").target.forEach(function(a){d(a).find(".text-over-column__card").hasClass("text-over-column--type-fold")&&
d(a).find(".text-over-column__card-inner").attr("tabindex",0)})};f.instances=new WeakMap;var q=function(){d(window);p=d(".text-over-column");p.target.length&&d(".text-over-column").target.forEach(function(c){f.instances.has(c)||new f(c)})};d.ready(q);window.sg.components.textOverColumn={init:q,reInit:function(){var c=d(".text-over-column").find(".text-over-column__wrap.swiper-container.swiper-container-initialized").target[0];c&&(k.getSwiper(c)?k.slideReInit(c):k.slideInit(c));d(".text-over-column").target.forEach(function(a){f.instances.has(a)?
f.instances.get(a).reInit():new f(a)})}}})();