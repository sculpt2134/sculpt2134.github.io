(function(){function g(){d(f.section).target.forEach(function(c){new b(c)})}var d=window.sg.common.$q,e=window.sg.common.utils.getCurrentDevice,h=window.sg.common.utils,k=window.sg.common.constants.BREAKPOINTS,f={section:".download-column-list"},b=function(c){var a=this;this.selector={section:f.section,ctaAll:".download-column-list__cta-wrap .cta",ctaView:".download-column-list__cta-view",ctaClose:".download-column-list__cta-close",moreList:".download-column-list__list li",listBody:".download-column-list__body",
activeClass:"is-active",columnClass:"download-column-list__body--two-column"};this.ele={window:d(window),section:d(c),ctaAll:null,ctaView:null,ctaClose:null,moreList:null,listBody:null,desktopFlag:!1,mobileFlag:!1};this.LISTLENGTH_PC=4;this.LISTLENGTH_PC_COLUMN2=8;this.LISTLENGTH_MO=5;this.handler={click:function(b){b.preventDefault();if(a.ele.ctaAll.parent().hasClass("download-column-list__cta-view")){b=a.ele.ctaClose.hasClass(a.selector.activeClass);var c=null;c=!1===b?a.ele.section.find(a.selector.moreList+
":not(.is-active)").target[0]||a.ele.ctaClose.target[0]:a.ele.ctaView.find(".cta").target[0];a.ele.ctaClose.toggleClass(a.selector.activeClass);!1===b?a.handler.open.start():a.handler.fold.start();setTimeout(function(){c.focus()},300)}else a.ele.section.find(".download-column-list__cta-wrap").css("display","none")&&a.ele.section.find(".download-column-list__cta-wrap").show(),a.ele.ctaView.show(),a.ele.ctaClose.hide()},resize:function(){k.MOBILE>h.getViewPort().width?!1===a.ele.mobileFlag&&(a.ele.mobileFlag=
!0,a.ele.desktopFlag=!1,a.handler.common.start(a.LISTLENGTH_MO),a.ele.moreList.removeAttr("tabindex")):!1===a.ele.desktopFlag&&(a.ele.desktopFlag=!0,a.ele.mobileFlag=!1,a.ele.listBody.hasClass(a.selector.columnClass)?a.handler.common.start(a.LISTLENGTH_PC_COLUMN2):a.handler.common.start(a.LISTLENGTH_PC),a.ele.moreList.removeAttr("tabindex"))},fold:{event:function(b){a.ele.moreList.removeClass(a.selector.activeClass);a.ele.moreList.removeAttr("tabindex");for(var c=0;c<a.ele.listCount;c++){if(a.ele.listCount<=
b)a.ele.moreList.target[c].classList.add(a.selector.activeClass),a.ele.section.find(".download-column-list__cta-wrap").css("display","block")&&a.ele.section.find(".download-column-list__cta-wrap").hide(),a.ele.ctaView.hide();else{for(var d=0;d<b;d++)a.ele.moreList.target[d].classList.add(a.selector.activeClass);a.ele.section.find(".download-column-list__cta-wrap").css("display","none")&&a.ele.section.find(".download-column-list__cta-wrap").show();a.ele.ctaView.show()}a.ele.ctaClose.hide()}},start:function(){"desktop"===
e()?a.ele.listBody.hasClass(a.selector.columnClass)?a.handler.fold.event(a.LISTLENGTH_PC_COLUMN2):a.handler.fold.event(a.LISTLENGTH_PC):"mobile"===e()&&a.handler.fold.event(a.LISTLENGTH_MO)}},open:{event:function(b){a.ele.moreList.target.forEach(function(b){b.classList.add(a.selector.activeClass)});a.ele.moreList.eq(b).attr("tabindex",0);a.ele.section.find(".download-column-list__cta-wrap").css("display","none")&&a.ele.section.find(".download-column-list__cta-wrap").show();a.ele.ctaView.hide();a.ele.ctaClose.show()},
start:function(){"desktop"===e()?a.ele.listBody.hasClass(a.selector.columnClass)?a.handler.open.event(a.LISTLENGTH_PC_COLUMN2):a.handler.open.event(a.LISTLENGTH_PC):"mobile"===e()&&a.handler.open.event(a.LISTLENGTH_MO)}},common:{start:function(b){a.ele.ctaClose.hasClass(a.selector.activeClass)||a.handler.fold.start();a.ele.listCount<=b?(a.ele.section.find(".download-column-list__cta-wrap").css("display","block")&&a.ele.section.find(".download-column-list__cta-wrap").hide(),a.ele.ctaView.hide(),a.ele.ctaClose.hide()):
a.ele.ctaClose.hasClass(a.selector.activeClass)&&(a.ele.section.find(".download-column-list__cta-wrap").css("display","none")&&a.ele.section.find(".download-column-list__cta-wrap").show(),a.ele.ctaView.hide(),a.ele.ctaClose.show())}}};b.instances.set(c,this);this.init()};b.prototype.init=function(){this.setProperty();this.bindEvents()};b.prototype.reInit=function(){this.unBindEvents();this.setProperty();this.bindEvents()};b.prototype.setProperty=function(){this.ele.ctaAll=this.ele.section.find(this.selector.ctaAll);
this.ele.ctaView=this.ele.section.find(this.selector.ctaView);this.ele.ctaClose=this.ele.section.find(this.selector.ctaClose);this.ele.moreList=this.ele.section.find(this.selector.moreList);this.ele.listBody=this.ele.section.find(this.selector.listBody);this.ele.listCount=this.ele.moreList.target.length};b.prototype.bindEvents=function(){this.ele.ctaAll.on("click",this.handler.click);this.ele.window.on("resize",this.handler.resize);this.handler.resize()};b.prototype.unBindEvents=function(){this.ele.ctaAll.off("click",
this.handler.click)};b.instances=new WeakMap;window.sg.components.downloadColumnList={init:g,reInit:function(){d(f.section).target.forEach(function(c){b.instances.has(c)?b.instances.get(c).reInit():new b(c)})}};d.ready(g)})();